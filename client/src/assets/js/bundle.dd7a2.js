!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}var installedModules={};__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=13)}([function(module,exports,__webpack_require__){"use strict";function nulls(val){return null!=val&&""!==val}function joinClasses(val){return(Array.isArray(val)?val.map(joinClasses):val&&"object"==typeof val?Object.keys(val).filter(function(key){return val[key]}):[val]).filter(nulls).join(" ")}function jade_encode_char(c){return jade_encode_html_rules[c]||c}function jade_escape(html){var result=String(html).replace(jade_match_html,jade_encode_char);return result===""+html?html:result}exports.merge=function merge(a,b){if(1===arguments.length){for(var attrs=a[0],i=1;i<a.length;i++)attrs=merge(attrs,a[i]);return attrs}var ac=a.class,bc=b.class;(ac||bc)&&(ac=ac||[],bc=bc||[],Array.isArray(ac)||(ac=[ac]),Array.isArray(bc)||(bc=[bc]),a.class=ac.concat(bc).filter(nulls));for(var key in b)"class"!=key&&(a[key]=b[key]);return a},exports.joinClasses=joinClasses,exports.cls=function(classes,escaped){for(var buf=[],i=0;i<classes.length;i++)escaped&&escaped[i]?buf.push(exports.escape(joinClasses([classes[i]]))):buf.push(joinClasses(classes[i]));var text=joinClasses(buf);return text.length?' class="'+text+'"':""},exports.style=function(val){return val&&"object"==typeof val?Object.keys(val).map(function(style){return style+":"+val[style]}).join(";"):val},exports.attr=function(key,val,escaped,terse){return"style"===key&&(val=exports.style(val)),"boolean"==typeof val||null==val?val?" "+(terse?key:key+'="'+key+'"'):"":0==key.indexOf("data")&&"string"!=typeof val?(-1!==JSON.stringify(val).indexOf("&")&&console.warn("Since Jade 2.0.0, ampersands (`&`) in data attributes will be escaped to `&amp;`"),val&&"function"==typeof val.toISOString&&console.warn("Jade will eliminate the double quotes around dates in ISO form after 2.0.0")," "+key+"='"+JSON.stringify(val).replace(/'/g,"&apos;")+"'"):escaped?(val&&"function"==typeof val.toISOString&&console.warn("Jade will stringify dates in ISO form after 2.0.0")," "+key+'="'+exports.escape(val)+'"'):(val&&"function"==typeof val.toISOString&&console.warn("Jade will stringify dates in ISO form after 2.0.0")," "+key+'="'+val+'"')},exports.attrs=function(obj,terse){var buf=[],keys=Object.keys(obj);if(keys.length)for(var i=0;i<keys.length;++i){var key=keys[i],val=obj[key];"class"==key?(val=joinClasses(val))&&buf.push(" "+key+'="'+val+'"'):buf.push(exports.attr(key,val,!1,terse))}return buf.join("")};var jade_encode_html_rules={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"},jade_match_html=/[&<>"]/g;exports.escape=jade_escape,exports.rethrow=function rethrow(err,filename,lineno,str){if(!(err instanceof Error))throw err;if(!("undefined"==typeof window&&filename||str))throw err.message+=" on line "+lineno,err;try{str=str||__webpack_require__(26).readFileSync(filename,"utf8")}catch(ex){rethrow(err,null,lineno)}var context=3,lines=str.split("\n"),start=Math.max(lineno-context,0),end=Math.min(lines.length,lineno+context),context=lines.slice(start,end).map(function(line,i){var curr=i+start+1;return(curr==lineno?"  > ":"    ")+curr+"| "+line}).join("\n");throw err.path=filename,err.message=(filename||"Jade")+":"+lineno+"\n"+context+"\n\n"+err.message,err},exports.DebugItem=function(lineno,filename){this.lineno=lineno,this.filename=filename}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(2)(1)},function(module,exports){module.exports=vendor},function(module,exports,__webpack_require__){module.exports=__webpack_require__(2)(8)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=new function Alert(){_classCallCheck(this,Alert),this.prompt=null,this.warns=null,this.tips=null,this.loading=null,this.hide=null,this.addConfirmBehavior=null,this.addCancelBehavior=null}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),StorageRegister=function(){function StorageRegister(){var inject=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,StorageRegister),this.storage=inject}return _createClass(StorageRegister,[{key:"getStorage",value:function(name){return this.storage[name]}},{key:"setStorage",value:function(itemName,innerProp,val){return void 0===val?(val=innerProp,this.storage[itemName]=val):this.storage[itemName][innerProp]=val,this}},{key:"addStorage",value:function(itemName,val){if(!(this.storage[itemName]instanceof Array))throw new Error("this storage isn't a Array!");return this.storage[itemName].push(val),this}},{key:"delStorage",value:function(name,val){if(this.storage[name]instanceof Array){var index=val;this.storage[name].splice(index,1)}else delete this.storage[name][val];return this}}],[{key:"version",value:function(){console.log("v1.0")}},{key:"author",value:function(){console.log("鎴戜笉tell you~")}}]),StorageRegister}();exports.default=StorageRegister},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _StorageRegister=__webpack_require__(5),_StorageRegister2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_StorageRegister),storage={nativeName:null,oppositeName:null,helperName:null,askerName:null,remoteId:0,userList:[],newUserCount:0,isChatting:!1,remoteChanelMap:[],name:"userStorage",hostUrl:"lester.ink",httpPort:"1110",wsPort:"1111"};exports.default=new _StorageRegister2.default(storage)},function(module,exports,__webpack_require__){module.exports=__webpack_require__(2)(2)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _StorageRegister=__webpack_require__(5),_StorageRegister2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_StorageRegister),storage={};exports.default=new _StorageRegister2.default(storage)},function(module,exports,__webpack_require__){"use strict";function preClose($rootScope,wsService,userStorage){var PayloadData={};PayloadData.uid=userStorage.getStorage("userName"),PayloadData.items={},PayloadData.items.remoteId=userStorage.getStorage("remoteId"),PayloadData.items.remoteUid={},userStorage.getStorage("remoteId")&&(PayloadData.items.remoteUid.askerUid=userStorage.getStorage("askerName"),PayloadData.items.remoteUid.helperUid=userStorage.getStorage("helperName")),wsService.close(1e3,JSON.stringify(PayloadData))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(_ref){var response=_ref.response,$rootScope=_ref.$rootScope,wsService=_ref.wsService,userStorage=(_ref.ngTool,_ref.wsTool,_ref.userStorage);_$rootScope_=$rootScope,_wsService_=wsService,_userStorage_=userStorage,console.log(response,"ws鍏抽棴淇″彿锛�"),_userStorage_.getStorage("remoteId")&&(_userStorage_.setStorage("remoteId",null),_$rootScope_.$emit(_userStorage_)),preClose(_$rootScope_,_wsService_,_userStorage_)};var _$rootScope_=void 0,_wsService_=void 0,_userStorage_=void 0;window.onbeforeunload=function(){console.log("鍏抽棴鎴栬€呭埛鏂扮獥鍙�"),console.log("鍒锋柊绐楀彛",_$rootScope_,_wsService_,_userStorage_),wsService.close(1e3,JSON.stringify({msg:"close"}))},window.onunload=function(){console.log("鍒锋柊绐楀彛",_$rootScope_,_wsService_,_userStorage_),wsService.close(1e3,JSON.stringify({msg:"refresh"}))}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){return{blobCompiler:_blobCompiler2.default,blobDiscompiler:_blobDiscompiler2.default}};var _blobCompiler=__webpack_require__(11),_blobCompiler2=_interopRequireDefault(_blobCompiler),_blobDiscompiler=__webpack_require__(57),_blobDiscompiler2=_interopRequireDefault(_blobDiscompiler)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports.default=function(data){var queryData=data;return"object"===(void 0===data?"undefined":_typeof(data))&&(queryData=JSON.stringify(data)),new Blob([queryData],{type:"text/plain"})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _StorageRegister=__webpack_require__(5),_StorageRegister2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_StorageRegister),storage={};exports.default=new _StorageRegister2.default(storage)},function(module,exports,__webpack_require__){__webpack_require__(14),module.exports=__webpack_require__(15)},function(module,exports){},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _angular=__webpack_require__(7),_angular2=_interopRequireDefault(_angular),_angularUiRouter=__webpack_require__(16),_angularUiRouter2=_interopRequireDefault(_angularUiRouter),_jquery=__webpack_require__(1),_jquery2=_interopRequireDefault(_jquery),_servicesExport=__webpack_require__(17),_servicesExport2=_interopRequireDefault(_servicesExport),_wsClientExport=__webpack_require__(44),_wsClientExport2=_interopRequireDefault(_wsClientExport),_exports=__webpack_require__(99),_exports2=_interopRequireDefault(_exports),_exports3=__webpack_require__(130),_exports4=_interopRequireDefault(_exports3);_angular2.default.module("myApp",[_angularUiRouter2.default,_exports4.default.name,_exports2.default.name,_servicesExport2.default.name,_wsClientExport2.default.name]).config(function($stateProvider,$urlRouterProvider){$urlRouterProvider.otherwise("home")}).run(function($state,$rootScope,userStorage){$rootScope.$on("$stateChangeStart",function(event,toState,toParams,fromState,fromParams){1===userStorage.getStorage("remoteId")&&((0,_jquery2.default)("section").ready(function(){(0,_jquery2.default)("section").css("pointerEvents","none")}),(0,_jquery2.default)("footer").ready(function(){(0,_jquery2.default)("footer").css("pointerEvents","none")})),console.log(event,toState,toParams,fromState,fromParams)})})},function(module,exports,__webpack_require__){module.exports=__webpack_require__(2)(4)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _toolExports=__webpack_require__(18),_toolExports2=_interopRequireDefault(_toolExports),_ajaxExports=__webpack_require__(41),_ajaxExports2=_interopRequireDefault(_ajaxExports);exports.default=angular.module("service",[_toolExports2.default.name,_ajaxExports2.default.name])},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _safeApply2=__webpack_require__(19),_safeApply3=_interopRequireDefault(_safeApply2),_Layout=__webpack_require__(20),_Layout2=_interopRequireDefault(_Layout),_Drag=__webpack_require__(22),_Drag2=_interopRequireDefault(_Drag),_alertExports=__webpack_require__(23),_alertExports2=_interopRequireDefault(_alertExports),_Alert=__webpack_require__(4),_Alert2=_interopRequireDefault(_Alert),_jroll=__webpack_require__(40),_jroll2=_interopRequireDefault(_jroll);exports.default=angular.module("ngTool",[_alertExports2.default.name]).factory("ngTool",function(){"ngInject";var scope={};return{safeApply:function(fn){return(0,_safeApply3.default)(scope,fn),this},injectScope:function(_scope){return scope=_scope,this},layout:_Layout2.default,Drag:_Drag2.default,jroll:_jroll2.default,alert:_Alert2.default}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(scope,fn){var phase=scope.$root.$$phase;"$apply"==phase||"$digest"==phase?fn&&"function"==typeof fn&&fn():scope.$apply(fn)}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_jquery=__webpack_require__(1),_jquery2=_interopRequireDefault(_jquery),_lodash=__webpack_require__(21),_lodash2=_interopRequireDefault(_lodash),Layout=function(){function Layout(){_classCallCheck(this,Layout)}return _createClass(Layout,null,[{key:"init",value:function(){var element=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,_jquery2.default)("section"),flag=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,dataBox=null;dataBox="SECTION"===element[0].nodeName?(0,_jquery2.default)((0,_jquery2.default)(element[0]).children[0]):(0,_jquery2.default)(element[0]);var elementIndex=(0,_jquery2.default)("section").find("div").index(dataBox),$curContentBody=dataBox.find(".scroll-table-body");if(console.log("elementIndex: ",elementIndex),1==flag){Layout.showTable(dataBox);var curScrollTop=parseFloat(sessionStorage.getItem(elementIndex));void 0!=curScrollTop&&null!=curScrollTop&&$curContentBody.scrollTop(curScrollTop)}else sessionStorage.setItem(elementIndex,$curContentBody.scrollTop()),Layout.hideTable(dataBox)}},{key:"showTable",value:function(box){box.children();box.show(),setTimeout(function(){Layout.resize(box)})}},{key:"hideTable",value:function(box){box.hide()}},{key:"resize",value:function(box,flag){var curFrame=null;(curFrame=void 0!==box&&(0,_jquery2.default)(box).is("div")?box:_lodash2.default.find((0,_jquery2.default)("section").find("div"),function(el){return(0,_jquery2.default)(el).is(":visible")}))&&("init"===flag?Layout.removeCloneHead(curFrame):(Layout.cloneThead(curFrame),Layout.layout(curFrame)))}},{key:"cloneThead",value:function(curFrame){var frameHeader=(0,_jquery2.default)(curFrame).find(".scroll-table-header"),frameBody=(0,_jquery2.default)(curFrame).find(".scroll-table-body");if(frameBody.find("table").length>0){var bodyThead=frameBody.find("thead");!frameHeader.find("table").length&&bodyThead.length&&(frameHeader.append("<table></table>"),frameHeader.find("table").append(bodyThead.clone()))}}},{key:"removeCloneHead",value:function(curFrame){var frameBody=(0,_jquery2.default)(curFrame).find(".scroll-table-body");frameBody.find("thead").length>0&&(0,_jquery2.default)(frameBody.find("thead")).remove()}},{key:"layout",value:function(curFrame){var frameHeader=(0,_jquery2.default)(curFrame).find(".scroll-table-header"),frameBody=(0,_jquery2.default)(curFrame).find(".scroll-table-body"),footer=(0,_jquery2.default)("footer"),titleHeight=(0,_jquery2.default)("#Title").height()||0,frameHeaderHeight=frameHeader.height()||0,footHeight=footer.is(":visible")?footer.height():0,thead_cloneHeight=frameHeader.height(),bodyHeight=(0,_jquery2.default)("html").height()-titleHeight-frameHeaderHeight-footHeight+thead_cloneHeight;frameBody.css("height",bodyHeight),"absolute"===frameBody.css("position")?frameBody.css({top:frameHeaderHeight-thead_cloneHeight+titleHeight}):frameBody.css({top:-thead_cloneHeight}),"absolute"===frameHeader.css("position")&&frameHeader.css({top:titleHeight})}}]),Layout}();exports.default=Layout},function(module,exports,__webpack_require__){module.exports=__webpack_require__(2)(5)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Drag=function(){function Drag(dragTag,bodyTag,extendTag){_classCallCheck(this,Drag),this.init(dragTag,bodyTag,extendTag),this.bindEvents()}return _createClass(Drag,[{key:"init",value:function(dragTag,bodyTag,extendTag){this.winHeight=document.body.clientHeight,this.winWidth=document.body.clientWidth,this.EVENT_TYPE={},this.EVENT_TYPE.START="ontouchstart"in window?"touchstart":"mousedown",this.EVENT_TYPE.MOVE="ontouchmove"in window?"touchmove":"mousemove",this.EVENT_TYPE.END="ontouchend"in window?"touchend":"mouseup",this.extendEvent={},this.dragEvent={},this.edge={},this.edge.bottom=this.winHeight-2,this.edge.right=this.winWidth-2,this.edge.top=1,this.edge.left=1,this.originX=0,this.originY=0,this.initDrag(Drag.queryTag(dragTag)),this.initBody(Drag.queryTag(bodyTag||dragTag)),extendTag&&this.initExtend(Drag.queryTag(extendTag))}},{key:"initBody",value:function(bodyTag){this.bodyTag=bodyTag,this.bodyWidth=this.bodyTag.clientWidth,this.bodyHeight=this.bodyTag.clientHeight}},{key:"initDrag",value:function(dragTag){this.dragTag=dragTag,this.dragEvent.dragStart=!1,this.dragEvent.distanceX=0,this.dragEvent.distanceY=0}},{key:"initExtend",value:function(extendTag){this.extendTag=extendTag,this.extendEvent.extendStart=!1,this.extendEvent.distanceX=0,this.extendEvent.distanceY=0}},{key:"bindEvents",value:function(){this.dragTag&&this.bindDragStart(),this.extendTag&&this.bindExtendStart(),this.bindMoveEvent(),this.bindEndEvent()}},{key:"bindMoveEvent",value:function(){var that=this;document.body.addEventListener(that.EVENT_TYPE.MOVE,function(e){that.dragEvent.dragStart?Drag.dragMoveEvent(that,e):that.extendEvent.extendStart&&Drag.extendMoveEvent(that,e)})}},{key:"bindEndEvent",value:function(){var that=this;document.body.addEventListener(that.EVENT_TYPE.END,function(e){that.dragEvent.dragStart?(that.dragEvent.dragStart=!1,Drag.dragEndEvent(that)):that.extendEvent.extendStart&&(that.extendEvent.extendStart=!1,Drag.extendEndEvent(that,e))})}},{key:"bindDragStart",value:function(){var that=this;that.dragTag.addEventListener(that.EVENT_TYPE.START,function(e){that.dragEvent.dragStart=!0;var target=e.changedTouches?e.changedTouches[0]:e,startX=target.clientX,startY=target.clientY;that.originX=that.bodyTag.offsetLeft,that.originY=that.bodyTag.offsetTop,that.distanceX=startX-that.originX,that.distanceY=startY-that.originY})}},{key:"bindExtendStart",value:function(){var that=this;that.extendTag.addEventListener(that.EVENT_TYPE.START,function(e){that.extendEvent.extendStart=!0;var target=e.changedTouches?e.changedTouches[0]:e,startX=target.clientX,startY=target.clientY;that.originX=that.bodyTag.offsetLeft,that.originY=that.bodyTag.offsetTop,that.extendEvent.distanceX=startX-that.originX,that.extendEvent.distanceY=startY-that.originY})}}],[{key:"queryTag",value:function(tag){var realTag=null;return"string"==typeof tag?realTag=document.querySelectorAll(tag):"object"===(void 0===tag?"undefined":_typeof(tag))&&(realTag=tag.nodeType?tag:tag[0]),realTag}},{key:"dragMoveEvent",value:function(that,e){var target=e.changedTouches?e.changedTouches[0]:e,moveX=target.clientX,moveY=target.clientY;return moveX+(that.bodyWidth-that.distanceX)>=that.winWidth?(that.bodyTag.style.left=that.winWidth-that.bodyWidth+"px",void(that.bodyTag.style.top=moveY-that.distanceY+"px")):moveY+(that.bodyHeight-that.distanceY)>=that.winHeight?(that.bodyTag.style.left=moveX-that.distanceX+"px",void(that.bodyTag.style.top=that.winHeight-that.bodyHeight+"px")):moveX<=that.distanceX?(that.bodyTag.style.left=0,void(that.bodyTag.style.top=moveY-that.distanceY+"px")):moveY<=that.distanceY?(that.bodyTag.style.left=moveX-that.distanceX+"px",void(that.bodyTag.style.top=0)):((moveY>=that.edge.bottom||moveY<=that.edge.top||moveX>=that.edge.right||moveX<=that.edge.left)&&(that.dragEvent.dragStart=!1,console.log("is move out!")),that.bodyTag.style.left=moveX-that.distanceX+"px",void(that.bodyTag.style.top=moveY-that.distanceY+"px"))}},{key:"dragEndEvent",value:function(that){var bodyLeft=that.bodyTag.offsetLeft,bodyTop=that.bodyTag.offsetTop;bodyTop<0?that.bodyTag.style.top=0:bodyTop>that.winHeight-that.bodyHeight&&(that.bodyTag.style.top=that.winHeight-that.bodyHeight+"px"),bodyLeft<0?that.bodyTag.style.left=0:bodyLeft>that.winWidth-that.bodyWidth&&(that.bodyTag.style.top=that.winWidth-that.bodyWidth+"px")}},{key:"extendMoveEvent",value:function(that,e){var target=e.changedTouches?e.changedTouches[0]:e,moveX=target.clientX,moveY=target.clientY;moveX>=that.winWidth&&(moveX=that.winWidth-10),moveX<=10&&(moveX=10),moveY>=that.winHeight&&(moveY=that.winHeight-10),moveY<=10&&(moveY=10),that.bodyTag.style.width=that.bodyWidth+(moveX-that.extendEvent.distanceX-that.originX)+"px",that.bodyTag.style.height=that.bodyHeight+(moveY-that.extendEvent.distanceY-that.originY)+"px"}},{key:"extendEndEvent",value:function(that,e){var target=e.changedTouches?e.changedTouches[0]:e,endX=target.clientX,endY=target.clientY;that.bodyTag.style.width=that.bodyWidth+(endX-that.extendEvent.distanceX-that.originX)+"px",that.bodyTag.style.height=that.bodyHeight+(endY-that.extendEvent.distanceY-that.originY)+"px";var endWidth=parseFloat(that.bodyTag.style.width),endHeight=parseFloat(that.bodyTag.style.height);endWidth<200&&(that.bodyTag.style.width="200px"),endHeight<200&&(that.bodyTag.style.height="200px"),endWidth>=that.winWidth-that.bodyTag.offsetLeft-10&&(that.bodyTag.style.width=that.winWidth-that.bodyTag.offsetLeft-10+"px"),endHeight>=that.winHeight-that.bodyTag.offsetTop-10&&(that.bodyTag.style.height=that.winHeight-that.bodyTag.offsetTop-10+"px"),that.bodyWidth=parseFloat(that.bodyTag.style.width),that.bodyHeight=parseFloat(that.bodyTag.style.height),console.log("extend end")}}]),Drag}();exports.default=Drag},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _main=__webpack_require__(24),_main2=_interopRequireDefault(_main),_loading=__webpack_require__(28),_loading2=_interopRequireDefault(_loading),_tips=__webpack_require__(31),_tips2=_interopRequireDefault(_tips),_warns=__webpack_require__(34),_warns2=_interopRequireDefault(_warns),_prompt=__webpack_require__(37),_prompt2=_interopRequireDefault(_prompt),_Alert=__webpack_require__(4),_jquery=(_interopRequireDefault(_Alert),__webpack_require__(1));_interopRequireDefault(_jquery);exports.default=angular.module("ngTool.alert",[]).directive("alertPlugin",_main2.default).directive("loading",_loading2.default).directive("warns",_warns2.default).directive("tips",_tips2.default).directive("prompt",_prompt2.default)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function directive(){return{replace:!0,restrict:"E",controller:Ctrl,link:link,template:(0,_main2.default)()}}function link($scope,$element){"ngInject";$scope.alert.hide=function(){return $scope.promptVisible=!1,$scope.loadingVisible=!1,$scope.alert},$scope.alert.addConfirmBehavior=function(){var _this=this,confirmText=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"纭畾",callback=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return"function"==typeof confirmText&&(callback=confirmText,confirmText="纭畾"),$scope.confirmText=confirmText,$scope.confirmBehavior=function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];$scope.alert.hide(),callback.apply(_this,args)},$scope.alert},$scope.alert.addCancelBehavior=function(){var _this2=this,cancelText=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"鍙栨秷",callback=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return"function"==typeof cancelText&&(callback=cancelText,cancelText="鍙栨秷"),$scope.cancelText=cancelText,$scope.cancelBehavior=function(){for(var _len2=arguments.length,args=Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];$scope.alert.hide(),callback.apply(_this2,args)},$scope.alert}}Object.defineProperty(exports,"__esModule",{value:!0}),link.$inject=["$scope","$element"],exports.default=directive;var _main=__webpack_require__(25),_main2=_interopRequireDefault(_main);__webpack_require__(27);var _jquery=__webpack_require__(1),_Alert=(_interopRequireDefault(_jquery),__webpack_require__(4)),_Alert2=_interopRequireDefault(_Alert),Ctrl=function Ctrl($scope){_classCallCheck(this,Ctrl),$scope.message=null,$scope.promptVisible=null,$scope.loadingVisible=null,$scope.confirmText=null,$scope.confirmBehavior=null,$scope.cancelText=null,$scope.cancelBehavior=null,$scope.alert=_Alert2.default}},function(module,exports,__webpack_require__){__webpack_require__(0);module.exports=function(locals){var buf=[];return buf.push("\x3c!--Created by Andy on 2017/12/19.\n--\x3e<div><prompt></prompt><tips></tips><warns></warns><loading></loading></div>"),buf.join("")}},function(module,exports){},function(module,exports){},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function link($scope,$element){$scope.alert.loading=function(){var message=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"鍔犺浇...",countDown=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;$scope.message=message,$scope.isLongWait=!1,$scope.promptVisible=!1,$scope.loadingVisible=!0,$scope.close=$scope.alert.hide,setTimeout(function(){$scope.$apply(function(){!0===$scope.loadingVisible&&($scope.message="绛夊緟鏃堕棿杩囬暱锛屽彲浠ョ偣鍑诲彇娑�",$scope.isLongWait=!0)})},1e3*countDown)},$scope.alert.loading.hide=function(){$scope.alert.hide()}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){return{replace:!0,restrict:"E",template:(0,_loading2.default)(),controller:Ctrl,link:link,scope:!1,require:"^alertPlugin"}};var _loading=__webpack_require__(29),_loading2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_loading);__webpack_require__(30);var Ctrl=function Ctrl(){_classCallCheck(this,Ctrl)}},function(module,exports,__webpack_require__){__webpack_require__(0);module.exports=function(locals){var buf=[];return buf.push('\x3c!--Created by Andy on 2017/12/23.--\x3e<div ng-show="loadingVisible" class="loading-frame"><div class="loading-frame-layer"><button ng-show="isLongWait" ng-click="close()" class="loading-close-button"><i class="loading-close-ico ico-close"></i></button><img id="loading-img-spin" src="images/common/iconfont-loading.png" alt="鍔犺浇..." class="loading-img-spin"><p><span ng-bind="message">鏁版嵁鍒濆鍖�...</span></p></div></div>'),buf.join("")}},function(module,exports){},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function link($scope,$element){var _element=(0,_jquery2.default)($element),$target=null;$scope.alert.tips=function(){var target=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,msg=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!target)throw new Error("the alert.warns function's params is not defined!");$scope.tip=msg,$scope.welcomes=dynamicGreet(),$target=queryDom(target),appendElement($target,_element),calcSize($target,_element),fadeInOut(null,_element)}}function calcSize(fatherTarget,thisElement){var offsetLeft=fatherTarget.offset().left,offsetTop=fatherTarget.offset().top,width=fatherTarget.innerWidth();fatherTarget.innerHeight();thisElement.stop().show().css({opacity:1,left:offsetLeft+.75*width,top:offsetTop-(thisElement.innerHeight()+12)})}function queryDom(target){var res=null;return"string"==typeof target?res=0===target.indexOf("#")?(0,_jquery2.default)(target):function(){var visElement=null;return(0,_jquery2.default)(target).each(function(index,item){if((0,_jquery2.default)(item).is(":visible"))return visElement=item,!1}),(0,_jquery2.default)(visElement)}():target.length>1?res=function(){var result=null;return(0,_jquery2.default)(target).each(function(index,item){if((0,_jquery2.default)(item).is(":visible"))return result=item,!1}),(0,_jquery2.default)(result)}():1===target.nodeType?res=(0,_jquery2.default)(target):target.__proto__&&target.__proto__.jquery&&(res=target),res}function fadeInOut(timer,thisElement){clearTimeout(timer),timer=setTimeout(function(){thisElement.animate({opacity:0},500,function(){thisElement.remove()})},500)}function appendElement($target,_element){_element.remove(),"INPUT"===$target[0].tagName||"IMG"===$target[0].tagName?$target.parent().append(_element[0]):$target.append(_element[0])}function dynamicGreet(){var welcomes="浣犲ソ",curHour=(new Date).getHours(),morning=[5,6,7,8,9,10,11],noon=[12,13],afterNoon=[14,15,16,17,18],night=[19,20,21,22],goodNight=[23,0,1,2,3,4],map=new Map;map.set(morning,"鏃╀笂濂�"),map.set(noon,"涓崍濂�"),map.set(afterNoon,"涓嬪崍濂�"),map.set(night,"鏅氫笂濂�"),map.set(goodNight,"鏅氬畨");var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=map.keys()[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var item=_step.value;item.indexOf(curHour)>0&&(welcomes=map.get(item))}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return welcomes}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){return{replace:!0,restrict:"E",template:(0,_tips2.default)(),controller:Ctrl,link:link,scope:!1,require:"^alertPlugin"}};var _tips=__webpack_require__(32),_tips2=_interopRequireDefault(_tips);__webpack_require__(33);var _jquery=__webpack_require__(1),_jquery2=_interopRequireDefault(_jquery),Ctrl=function Ctrl($scope){"ngInject";_classCallCheck(this,Ctrl),$scope.tip="鎻愮ず"};Ctrl.$inject=["$scope"]},function(module,exports,__webpack_require__){__webpack_require__(0);module.exports=function(locals){var buf=[];return buf.push('\x3c!--Created by Andy on 2017/12/30.\n--\x3e<p class="tip-box"><span>{{welcomes}}锛�<em class="light-text">&nbsp;{{tip}}</em></span></p>'),buf.join("")}},function(module,exports){},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function link($scope,$element,$attr,req){var thisEle=(0,_jquery2.default)($element),parentEle=thisEle.parent();$scope.alert.warns=function(){var message=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"鎻愰啋";return $scope.message=message,parentEle.append(thisEle.css({opacity:1}).show().stop()),setTimeout(function(){thisEle.animate({opacity:0},700,function(){thisEle.remove()})},500),$scope.alert}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){return{replace:!0,restrict:"E",template:(0,_warns2.default)(),controller:Ctrl,link:link,scope:!1,require:"^alertPlugin"}};var _warns=__webpack_require__(35),_warns2=_interopRequireDefault(_warns);__webpack_require__(36);var _jquery=__webpack_require__(1),_jquery2=_interopRequireDefault(_jquery),Ctrl=function Ctrl($scope){_classCallCheck(this,Ctrl)}},function(module,exports,__webpack_require__){__webpack_require__(0);module.exports=function(locals){var buf=[];return buf.push('\x3c!--Created by Andy on 2017/12/23.\n--\x3e<div ng-bind="message" class="warn-tip animation"></div>'),buf.join("")}},function(module,exports){},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function link($scope,$element,$attr,req){$scope.alert.prompt=function(){var message=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"淇℃伅";return $scope.loadingVisble=!1,$scope.message=message,$scope.promptVisible=!0,$scope.confirmText="纭畾",$scope.confirmBehavior=function(){$scope.alert.hide()},$scope.cancelText=null,$scope.cancelBehavior=null,$scope.alert}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){return{restrict:"E",template:(0,_prompt2.default)(),controller:Ctrl,replace:!0,link:link,scope:!1,require:"^alertPlugin"}};var _prompt=__webpack_require__(38),_prompt2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_prompt);__webpack_require__(39);var Ctrl=function Ctrl($scope){"ngInject";_classCallCheck(this,Ctrl)};Ctrl.$inject=["$scope"]},function(module,exports,__webpack_require__){__webpack_require__(0);module.exports=function(locals){var buf=[];return buf.push('\x3c!--Created by Andy on 2017/12/23.\n--\x3e<div ng-show="promptVisible" class="alert-box box-background"><div class="box-frame tip-box-wide"><div class="box-head"><h1 class="box-title">鎻愮ず</h1></div><div class="box-content"><p ng-bind="message" class="box-p">娑堟伅</p></div><div class="bottom-bar-button-box"><button ng-bind="confirmText" ng-click="confirmBehavior()" class="bottom-bar-button bottom-bar-button1">纭</button><button ng-show="cancelBehavior" ng-bind="cancelText" ng-click="cancelBehavior()" class="bottom-bar-button">鍙栨秷</button></div></div></div>'),buf.join("")}},function(module,exports){},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(ele,position){var tagName=ele.tagName,tagId=(0,_jquery2.default)("body").find(tagName).index(ele);setTimeout(function(){if(jroll[tagId]){jroll[tagId].refresh();var beyondEdge=ele.firstChild.clientHeight-ele.clientHeight;"bottom"===position&&beyondEdge>0&&jroll[tagId].scrollTo(0,-beyondEdge,300),"top"===position&&jroll[tagId].scrollTo(0,0,300)}else{jroll[tagId]=new _jroll2.default(ele,{edgeRelease:!0,mousewheel:!0});var userAgent=navigator.userAgent.toLowerCase(),isWin=-1!=userAgent.indexOf("windows"),isMac=-1!=userAgent.indexOf("mac")&&-1==userAgent.indexOf("iphone"),isUnix=-1!=userAgent.indexOf("x11"),isLinux=-1!=userAgent.indexOf("linux");if(isWin||isMac||isUnix||isLinux){jroll[tagId].on("scrollStart",function(e){}),jroll[tagId].on("scroll",function(e){ele.style.pointerEvents="none"}),jroll[tagId].on("scrollEnd",function(){console.log("scrollEnd"),ele.style.pointerEvents=null})}}},100)};var _jroll=__webpack_require__(3),_jroll2=_interopRequireDefault(_jroll),_jquery=__webpack_require__(1),_jquery2=_interopRequireDefault(_jquery),jroll=[]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _AjaxRequest=__webpack_require__(42),_AjaxRequest2=_interopRequireDefault(_AjaxRequest),_AjaxReceiver=__webpack_require__(43),_AjaxReceiver2=_interopRequireDefault(_AjaxReceiver);exports.default=angular.module("ajax",[]).service("ajax",function(userStorage,$rootScope,wsService){return new _AjaxRequest2.default(userStorage,new _AjaxReceiver2.default,$rootScope,wsService)})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_callbackRegister=__webpack_require__(8),_callbackRegister2=_interopRequireDefault(_callbackRegister),_jquery=__webpack_require__(1),_jquery2=_interopRequireDefault(_jquery),AjaxRequest=function(){function AjaxRequest(userStorage,receiver,$rootScope,wsService){_classCallCheck(this,AjaxRequest),this.$rootScope=$rootScope,this.wsService=wsService,this.userStorage=userStorage,this.receiver=receiver,this.ajaxCallbackId=0,this.cache={}}return _createClass(AjaxRequest,[{key:"request",value:function(pathName,querySearch){return _callbackRegister2.default.setStorage(this.ajaxCallbackId,this.cache),2==this.userStorage.getStorage("remoteId")?(this.wsService.emit(9,{doneId:this.ajaxCallbackId++}),this.delegateRemoteHandler(),this):(this.ajaxEmit(pathName,querySearch),this)}},{key:"bindCallbackRunEnv",value:function(){var callbackRunEnv=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.cache.callbackRunEnv=callbackRunEnv,this}},{key:"extendsCallbackParams",value:function(){for(var _len=arguments.length,params=Array(_len),_key=0;_key<_len;_key++)params[_key]=arguments[_key];return this.cache.params=params,this}},{key:"addRetryBehavior",value:function(){var retryBehavior=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.cache.retryBehavior=retryBehavior,this}},{key:"injectCallback",value:function(){var callback=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};return this.cache.callback=callback,this}},{key:"delegateRemoteHandler",value:function(){var that=this;this.doneId=null,this.$rootScope.$on(this.userStorage,function(){var ajaxDataRegister=that.userStorage.getStorage("ajaxDataRegister");if(that.doneId!==ajaxDataRegister.ajaxCallbackId)switch(that.doneId=ajaxDataRegister.ajaxCallbackId,ajaxDataRegister.status){case"success":that.receiver.take("success",ajaxDataRegister.json,ajaxDataRegister.ajaxCallbackId);break;case"timeout":that.receiver.take("timeout","鏈嶅姟鍣ㄨ姹傝秴鏃�",ajaxDataRegister.ajaxCallbackId);break;case"error":case"parsererror":that.receiver.take("error","鏈嶅姟鍣ㄨ姹傚け璐�",ajaxDataRegister.ajaxCallbackId),console.log("http璇锋眰澶辫触:",XMLHttpRequest)}})}},{key:"ajaxEmit",value:function(pathName,querySearch){var that=this,hostUrl=that.userStorage.getStorage("hostUrl"),httpPort=that.userStorage.getStorage("httpPort");return that.ajaxInstance=_jquery2.default.ajax({type:"POST",async:!0,timeout:1e4,url:"http://"+hostUrl+":"+httpPort+"/"+pathName,dataType:"json",data:querySearch,complete:function(XMLHttpRequest,status){var json=XMLHttpRequest.responseJSON;switch(1===that.userStorage.getStorage("remoteId")&&that.wsService.emit(9,{status:status,json:json,ajaxCallbackId:that.ajaxCallbackId}),status){case"success":that.receiver.take("success",json,that.ajaxCallbackId++);break;case"timeout":that.ajaxInstance.abort(),that.receiver.take("timeout","鏈嶅姟鍣ㄨ姹傝秴鏃�",that.ajaxCallbackId++);break;case"error":case"parsererror":that.receiver.take("error","鏈嶅姟鍣ㄨ姹傚け璐�",that.ajaxCallbackId++),console.log("http璇锋眰澶辫触:",XMLHttpRequest)}}}),that}}]),AjaxRequest}();exports.default=AjaxRequest},function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_callbackRegister=__webpack_require__(8),_callbackRegister2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_callbackRegister),Receiver=function(){function Receiver(){_classCallCheck(this,Receiver)}return _createClass(Receiver,[{key:"take",value:function(status,response,ajaxCallbackId){var storage=Receiver.getStorage(ajaxCallbackId);switch(status){case"success":this.successHandler(response,storage.callback,storage.params,storage.callbackRunEnv);break;case"timeout":case"error":this.refreshHandler(response,storage.retryBehavior,storage.params,storage.callbackRunEnv)}}},{key:"successHandler",value:function(response,callback,params,callbackRunEnv){var jsonData="string"==typeof response&&response.match(/^[\{\[]/)?JSON.parse(response):response;return callback.apply(callbackRunEnv,[jsonData].concat(_toConsumableArray(params))),this}},{key:"refreshHandler",value:function(response,retryBehavior,params,callbackRunEnv){return retryBehavior instanceof Array?retryBehavior.length:retryBehavior instanceof Function&&retryBehavior.apply(callbackRunEnv,[]),this}}],[{key:"getStorage",value:function(ajaxCallbackId){var params=_callbackRegister2.default.getStorage(ajaxCallbackId).params,retryBehavior=_callbackRegister2.default.getStorage(ajaxCallbackId).retryBehavior,callback=_callbackRegister2.default.getStorage(ajaxCallbackId).callback,callbackRunEnv=_callbackRegister2.default.getStorage(ajaxCallbackId).callbackRunEnv;return _callbackRegister2.default.delStorage(ajaxCallbackId),{callback:callback,params:params,retryBehavior:retryBehavior,callbackRunEnv:callbackRunEnv}}}]),Receiver}();exports.default=Receiver},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _exports=__webpack_require__(45),_exports2=_interopRequireDefault(_exports),_wsStorage=__webpack_require__(6),_wsStorage2=_interopRequireDefault(_wsStorage),_exports3=__webpack_require__(10),_exports4=_interopRequireDefault(_exports3),_exports5=__webpack_require__(66),_exports6=_interopRequireDefault(_exports5);exports.default=angular.module("wsClient",[_exports6.default.name]).config(function($provide){$provide.service("wsService",_exports2.default),$provide.factory("wsTool",_exports4.default),$provide.constant("userStorage",_wsStorage2.default)})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function service($rootScope,ngTool,wsTool,userStorage,charState){"ngInject";var that=this,hostUrl=userStorage.getStorage("hostUrl"),wsPort=userStorage.getStorage("wsPort"),wsService=new WebSocket("ws://"+hostUrl+":"+wsPort);return this.emit=wsService.emit=function(){for(var _len=arguments.length,arg=Array(_len),_key=0;_key<_len;_key++)arg[_key]=arguments[_key];var blob=_emitHandler2.default.query.apply(_emitHandler2.default,arg);return wsService.send(blob),that},this.wsService=wsService,this.openHandler=_open2.default,this.errHandler=_err2.default,this.closeHandler=_close2.default,this.msgHandler=_host2.default,this.reConnect=function(url){that.wsService=new WebSocket(url),that.bindListener()},this.scopeParams={$rootScope:$rootScope,wsService:wsService,ngTool:ngTool,wsTool:wsTool,userStorage:userStorage,charState:charState},this.bindListener=function(){that.wsService.onopen=function(res){that.openHandler(Object.assign({response:res},that.scopeParams))},that.wsService.onerror=function(res){that.errHandler(Object.assign({response:res},that.scopeParams))},that.wsService.onclose=function(res){that.closeHandler(Object.assign({response:res},that.scopeParams))},that.wsService.onmessage=function(res){that.msgHandler(Object.assign({response:res},that.scopeParams))}},this.bindListener()}Object.defineProperty(exports,"__esModule",{value:!0}),service.$inject=["$rootScope","ngTool","wsTool","userStorage","charState"],exports.default=service;var _open=__webpack_require__(46),_open2=_interopRequireDefault(_open),_close=__webpack_require__(9),_close2=_interopRequireDefault(_close),_err=__webpack_require__(47),_err2=_interopRequireDefault(_err),_host=__webpack_require__(48),_host2=_interopRequireDefault(_host),_emitHandler=__webpack_require__(65),_emitHandler2=_interopRequireDefault(_emitHandler)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(_ref){var response=_ref.response,wsService=(_ref.$rootScope,_ref.wsService);_ref.ngTool,_ref.wsTool,_ref.userStorage;console.log(response),console.log("鎻℃墜鎴愬姛");var loop=setInterval(function(){1===wsService.readyState&&wsService.emit&&(wsService.emit(0,function(){console.log("ws蹇冭烦")}),clearInterval(loop))},300)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(_ref){var response=_ref.response,$rootScope=_ref.$rootScope,wsService=_ref.wsService,ngTool=_ref.ngTool,wsTool=_ref.wsTool,userStorage=_ref.userStorage;console.log(response,"ws閿欒淇″彿锛�"),(0,_close2.default)({response:response,$rootScope:$rootScope,wsService:wsService,ngTool:ngTool,wsTool:wsTool,userStorage:userStorage})};var _close=__webpack_require__(9),_close2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_close)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(_ref){var response=_ref.response,$rootScope=_ref.$rootScope,wsService=_ref.wsService,ngTool=_ref.ngTool,wsTool=_ref.wsTool,userStorage=_ref.userStorage,charState=_ref.charState;wsTool.blobDiscompiler(response.data,function(prayload){if(prayload){if(prayload.clientData&&void 0!==prayload.clientData.callbackId){var callbackId=prayload.clientData.callbackId,callback=_callbackStorage2.default.getStorage(callbackId)[0]||function(){},callbackParams=_callbackStorage2.default.getStorage(callbackId)[1]||[];callbackParams.unshift(prayload),callback.apply(null,callbackParams),_callbackStorage2.default.delStorage(callbackId)}var params={$rootScope:$rootScope,ngTool:ngTool,wsTool:wsTool,prayload:prayload,wsService:wsService,userStorage:userStorage,charState:charState};switch(prayload.status){case 0:(0,_heartBeat2.default)(params);break;case 1:$rootScope.$emit((0,_addUsers2.default)(params));break;case 2:$rootScope.$emit((0,_connectSniff2.default)(params));break;case 3:$rootScope.$emit((0,_acceptConnect2.default)(params)),(0,_activeRemoteEventsListener2.default)(params),(0,_activeRemoteScrollListener2.default)(params);break;case 4:$rootScope.$emit((0,_rejectConnect2.default)(params));break;case 5:$rootScope.$emit((0,_receiverClickEvent2.default)(params));break;case 6:$rootScope.$emit((0,_signConnectedUser2.default)(params));break;case 7:$rootScope.$emit((0,_signDisconnectUser2.default)(params));break;case 8:$rootScope.$emit((0,_charSystem2.default)(params));break;case 9:$rootScope.$emit((0,_remoteAjax2.default)(params));break;case 10:$rootScope.$emit((0,_takeRemoteScrollCoordinate2.default)(params));break;case 254:$rootScope.$emit((0,_reduceUser2.default)(params));break;case 255:$rootScope.$emit((0,_disconnectChanel2.default)(params))}}})};var _addUsers=__webpack_require__(49),_addUsers2=_interopRequireDefault(_addUsers),_connectSniff=__webpack_require__(50),_connectSniff2=_interopRequireDefault(_connectSniff),_signConnectedUser=__webpack_require__(51),_signConnectedUser2=_interopRequireDefault(_signConnectedUser),_signDisconnectUser=__webpack_require__(52),_signDisconnectUser2=_interopRequireDefault(_signDisconnectUser),_acceptConnect=__webpack_require__(53),_acceptConnect2=_interopRequireDefault(_acceptConnect),_rejectConnect=__webpack_require__(54),_rejectConnect2=_interopRequireDefault(_rejectConnect),_reduceUser=__webpack_require__(55),_reduceUser2=_interopRequireDefault(_reduceUser),_disconnectChanel=__webpack_require__(56),_disconnectChanel2=_interopRequireDefault(_disconnectChanel),_heartBeat=__webpack_require__(58),_heartBeat2=_interopRequireDefault(_heartBeat),_charSystem=__webpack_require__(59),_charSystem2=_interopRequireDefault(_charSystem),_remoteAjax=__webpack_require__(60),_remoteAjax2=_interopRequireDefault(_remoteAjax),_receiverClickEvent=__webpack_require__(61),_receiverClickEvent2=_interopRequireDefault(_receiverClickEvent),_callbackStorage=__webpack_require__(12),_callbackStorage2=_interopRequireDefault(_callbackStorage),_activeRemoteEventsListener=__webpack_require__(62),_activeRemoteEventsListener2=_interopRequireDefault(_activeRemoteEventsListener),_activeRemoteScrollListener=__webpack_require__(63),_activeRemoteScrollListener2=_interopRequireDefault(_activeRemoteScrollListener),_takeRemoteScrollCoordinate=__webpack_require__(64),_takeRemoteScrollCoordinate2=_interopRequireDefault(_takeRemoteScrollCoordinate)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(_ref){var prayload=_ref.prayload,userStorage=_ref.userStorage,namesMap=prayload.serverData.namesMap,chanelMap=prayload.serverData.remoteChanelMap,curList=userStorage.getStorage("userList"),newUserCount=parseInt(namesMap.length-curList.length),userList=[];return namesMap.forEach(function(namesItem){var curItem={name:namesItem,connectWith:null};chanelMap.forEach(function(chanelItem){namesItem===chanelItem.askerUid&&(curItem={name:namesItem,connectWith:chanelItem.askerUid}),namesItem===chanelItem.helperUid&&(curItem={name:namesItem,connectWith:chanelItem.helperUid})}),userList.push(curItem)}),userStorage.setStorage("userList",userList).setStorage("newUserCount",newUserCount),userStorage}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(_ref){var prayload=_ref.prayload,wsService=_ref.wsService,ngTool=_ref.ngTool,userStorage=_ref.userStorage;return userStorage.setStorage("askerName",prayload.serverData.remoteUid.askerUid),userStorage.setStorage("helperName",prayload.serverData.remoteUid.helperUid),ngTool.alert.prompt("銆�"+prayload.serverData.remoteUid.askerUid+"銆戣姹傛偍鐨勫崗鍔╋紒").addConfirmBehavior(function(){userStorage.setStorage("oppositeName",prayload.serverData.remoteUid.askerUid),window.location.hash="#!home",wsService.emit(3)}).addCancelBehavior(function(){wsService.emit(4)}),userStorage}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(_ref){var prayload=_ref.prayload,userStorage=_ref.userStorage;return userStorage.addStorage("remoteChanelMap",prayload.serverData.remoteChanel),userStorage}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(_ref){var prayload=_ref.prayload,userStorage=_ref.userStorage;return userStorage.setStorage("remoteChanelMap",prayload.serverData.remoteChanelMap),userStorage}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(_ref){var prayload=_ref.prayload,userStorage=(_ref.wsService,_ref.userStorage);return _ref.ngTool.alert.loading.hide(),userStorage.setStorage("remoteId",prayload.serverData.remoteId),userStorage.setStorage("askerName",prayload.serverData.remoteUid.askerUid),userStorage.setStorage("helperName",prayload.serverData.remoteUid.helperUid),window.location.hash="#!home",1==prayload.serverData.remoteId&&(userStorage.setStorage("oppositeName",prayload.serverData.remoteUid.helperUid),document.body.getElementsByTagName("section")[0].style.pointerEvents="none",document.body.getElementsByTagName("footer")[0].style.pointerEvents="none"),2==prayload.serverData.remoteId&&userStorage.setStorage("oppositeName",prayload.serverData.remoteUid.askerUid),userStorage}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(_ref){var ngTool=_ref.ngTool,userStorage=_ref.userStorage;return ngTool.alert.loading.hide(),ngTool.alert.prompt("瀵规柟鎷掔粷浜嗘偍鐨勮姹�!"),userStorage}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(_ref){var prayload=_ref.prayload,userStorage=_ref.userStorage,list=userStorage.getStorage("userList");return list.length&&list.forEach(function(item,index){item.name===prayload.serverData.deadUid&&list.splice(index,1)}),userStorage.setStorage("userList",list),userStorage}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(_ref){var prayload=_ref.prayload,ngTool=_ref.ngTool,userStorage=_ref.userStorage;return document.body.getElementsByTagName("section")[0].style.pointerEvents=null,document.body.getElementsByTagName("footer")[0].style.pointerEvents=null,userStorage.setStorage("remoteId",prayload.serverData.remoteId),userStorage.setStorage("remoteChanelMap",prayload.serverData.remoteChanelMap),ngTool.alert.loading.hide(),ngTool.alert.prompt("瀵规柟宸茬粡鏂紑杩炴帴"),userStorage};var _wsStorage=__webpack_require__(6),_exports=(_interopRequireDefault(_wsStorage),__webpack_require__(10));_interopRequireDefault(_exports)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(data,callback){if(data instanceof Blob){var reader=new FileReader;reader.readAsText(data,"utf8"),reader.onload=function(e){var result=/^[\{\[]/.test(reader.result.substr(0,1))?JSON.parse(reader.result):reader.result;callback(result)}}else{var result=/^[\{\[]/.test(data.substr(0,1))?JSON.parse(data):data;callback(result)}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(_ref){_ref.wsService.emit(0)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(_ref){var prayload=(_ref.$rootScope,_ref.ngTool,_ref.prayload),charState=(_ref.userStorage,_ref.charState);return charState.charShow?charState.newMsgCount=0:charState.newMsgCount=charState.newMsgCount+1,charState.charParagraphs.push(prayload.serverData),charState}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(_ref){var prayload=_ref.prayload,userStorage=_ref.userStorage;return userStorage.setStorage("ajaxDataRegister",prayload.serverData),userStorage}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(_ref){var prayload=_ref.prayload,buttonType=prayload.serverData.buttonType,buttonIndex=prayload.serverData.buttonIndex,target=(0,_jquery2.default)("body").find(buttonType)[buttonIndex];(0,_jquery2.default)(target).trigger("click"),console.log("worked!")};var _jquery=__webpack_require__(1),_jquery2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_jquery)},function(module,exports,__webpack_require__){"use strict";function matchTheButtonElement(target){/INPUT|BUTTON|SUBMIT/i.test(target.tagName)||"BODY"===target.tagName.toUpperCase()?matchTheButtonElement.target=target:matchTheButtonElement(target.parentNode)}function queryTarget(curTarget,wsService){if(!curTarget.attributes.unremote){var targetName=curTarget.tagName.toUpperCase(),index=(0,_jquery2.default)("body").find(targetName).index(curTarget);wsService.emit(5,{buttonIndex:index,buttonType:targetName})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(_ref){var prayload=_ref.prayload,wsService=_ref.wsService;prayload.serverData.remoteId,2==prayload.serverData.remoteId&&document.body.addEventListener("click",function(e){matchTheButtonElement(e.target);var target=matchTheButtonElement.target;/INPUT|BUTTON|SUBMIT/i.test(target.tagName)&&queryTarget(target,wsService)})};var _jquery=__webpack_require__(1),_jquery2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_jquery)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function startHandler(e){matchTheScrollElement(e.target);var target=matchTheScrollElement.target,idDetail=target.attributes.id;if(idDetail&&!jrollIdCache.get(idDetail.value)){jrollIdCache.set(idDetail.value,!0);var targetId=idDetail.value,curJroll=new _jroll2.default("#"+targetId).on("scrollEnd",function(){var jrollX=curJroll.x,jrollY=curJroll.y;wsEmitter&&wsEmitter(10,{targetId:targetId,jrollX:jrollX,jrollY:jrollY})})}}function matchTheScrollElement(target){var idDetail=target.attributes.id;idDetail&&/(wrapper)/.test(idDetail.value)||"BODY"===target.tagName.toUpperCase()?matchTheScrollElement.target=target:matchTheScrollElement(target.parentNode)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(_ref){var userStorage=(_ref.prayload,_ref.userStorage),wsService=_ref.wsService;2===userStorage.getStorage("remoteId")?(wsEmitter=wsService.emit,body.addEventListener(touchStart,startHandler)):body.removeEventListener(touchStart,startHandler)};var _jquery=__webpack_require__(1),_jroll=(_interopRequireDefault(_jquery),__webpack_require__(3)),_jroll2=_interopRequireDefault(_jroll),body=document.body,wsEmitter=null,touchStart="ontouchstart"in window?"touchstart":"mousedown",jrollIdCache=(window,window,new Map)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(_ref){var prayload=_ref.prayload;return _ref.$rootScope.scrollCoordinate=prayload.serverData,"scrollCoordinate"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_wsStorage=__webpack_require__(6),_wsStorage2=_interopRequireDefault(_wsStorage),_blobCompiler=__webpack_require__(11),_blobCompiler2=_interopRequireDefault(_blobCompiler),_callbackStorage=__webpack_require__(12),_callbackStorage2=_interopRequireDefault(_callbackStorage),callbackIdCount=0;exports.default=new(function(){function WebSocketEmitQuery(){_classCallCheck(this,WebSocketEmitQuery)}return _createClass(WebSocketEmitQuery,[{key:"query",value:function(port,data,callback,callbackParams){return this.formatParams(port,data,callback,callbackParams).cacheCallback(),(0,_blobCompiler2.default)(this.data)}},{key:"formatParams",value:function(port,data,callback,callbackParams){return"object"===(void 0===port?"undefined":_typeof(port))&&("function"==typeof data&&(callbackParams=callback||[],callback=data),data=port,port=data.port,this.callback=data.callback||callback||function(){},this.callbackParams=data.callbackParams||callbackParams||[]),"number"==typeof port&&"function"==typeof data&&(this.callback=data,this.callbackParams=callback||[],data={}),"function"==typeof callback&&(this.callback=callback,this.callbackParams=callbackParams||[]),this.data={port:port||255,uid:_wsStorage2.default.getStorage("nativeName"),remoteId:_wsStorage2.default.getStorage("remoteId"),remoteUid:{askerUid:_wsStorage2.default.getStorage("askerName"),helperUid:_wsStorage2.default.getStorage("helperName")},items:data||{}},this}},{key:"cacheCallback",value:function(){_callbackStorage2.default.setStorage(WebSocketEmitQuery.calcCallbackId(),[this.callback,this.callbackParams]),this.data=Object.assign(this.data,{callbackId:WebSocketEmitQuery.calcCallbackId(!0)})}}],[{key:"calcCallbackId",value:function(add){return add?callbackIdCount++:callbackIdCount}}]),WebSocketEmitQuery}())},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _exports=__webpack_require__(67),_exports2=_interopRequireDefault(_exports),_exports3=__webpack_require__(88),_exports4=_interopRequireDefault(_exports3),_exports5=__webpack_require__(95),_exports6=_interopRequireDefault(_exports5);exports.default=angular.module("user",[_exports4.default.name,_exports6.default.name,_exports2.default.name])},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _main=__webpack_require__(68),_main2=_interopRequireDefault(_main),_contentBox=__webpack_require__(71),_contentBox2=_interopRequireDefault(_contentBox),_foot=__webpack_require__(75),_foot2=_interopRequireDefault(_foot),_head=__webpack_require__(78),_head2=_interopRequireDefault(_head),_hoverButton=__webpack_require__(81),_hoverButton2=_interopRequireDefault(_hoverButton),_phraseForm=__webpack_require__(85),_phraseForm2=_interopRequireDefault(_phraseForm);exports.default=angular.module("user.conversation",[]).directive("conversation",_main2.default).directive("charContentBox",_contentBox2.default).directive("charFootBar",_foot2.default).directive("charHeadBar",_head2.default).directive("hoverButton",_hoverButton2.default).directive("phraseForm",_phraseForm2.default).config(function($provide){$provide.value("charState",{charShow:!1,phraseFormShow:!1,name:"charState",newMsgCount:0,sendMessage:function(content){console.log(content)}})})},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){return{restrict:"EA",replace:!0,scope:!1,template:(0,_main2.default)(),controller:Ctrl}};var _main=__webpack_require__(69),_main2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_main);__webpack_require__(70);var Ctrl=function Ctrl($scope,$element,ngTool,$rootScope,userStorage,charState){"ngInject";_classCallCheck(this,Ctrl),$scope.safeApply=ngTool.injectScope($scope).safeApply,new ngTool.Drag($element[0].querySelector(".char-head-bar"),$element[0].querySelector(".char-form")),$scope.charShow=!1,$rootScope.$on(charState,function(scope){$scope.charShow=charState.charShow,$scope.remoteId=userStorage.getStorage("remoteId")})};Ctrl.$inject=["$scope","$element","ngTool","$rootScope","userStorage","charState"]},function(module,exports,__webpack_require__){__webpack_require__(0);module.exports=function(locals){var buf=[];return buf.push('\x3c!--Created by Andy on 2017/11/13.\n--\x3e<div ng-show="charShow" unremote><div class="char-form"><char-head-bar class="char-head-bar"></char-head-bar><char-content-box class="char-content-box"></char-content-box><char-foot-bar class="char-foot-bar"></char-foot-bar></div><phrase-form></phrase-form></div>'),buf.join("")}},function(module,exports){},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function link($scope){$scope.avatarStyle={background:"url("+_avatar_2.default+") no-repeat",backgroundSize:"3rem",width:"100%",height:"100%"},$scope.nativeStyle={"flex-direction":"row"},$scope.oppositeStyle={"flex-direction":"row-reverse"}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){return{restrict:"EA",replace:!0,scope:{},template:(0,_contentBox2.default)(),controller:Ctrl,link:link}};var _contentBox=__webpack_require__(72),_contentBox2=_interopRequireDefault(_contentBox);__webpack_require__(73);var _avatar_=__webpack_require__(74),_avatar_2=_interopRequireDefault(_avatar_),Ctrl=function Ctrl($scope,$element,$rootScope,ngTool,userStorage,charState){"ngInject";_classCallCheck(this,Ctrl),$scope.safeApply=ngTool.injectScope($scope).safeApply,$scope.charState=charState,$scope.userStorage=userStorage,$scope.ngTool=ngTool,$rootScope.$on(charState,function(){$scope.remoteId=$scope.userStorage.getStorage("remoteId"),charState.charParagraphs.length&&ngTool.jroll($element[0],"bottom")})};Ctrl.$inject=["$scope","$element","$rootScope","ngTool","userStorage","charState"]},function(module,exports,__webpack_require__){__webpack_require__(0);module.exports=function(locals){var buf=[];return buf.push('<div class="char-body"><ul><li ng-repeat="item in charState.charParagraphs"><p ng-bind="item.timer" ng-hide="" class="RMTChar-timer"></p><div ng-class="item.remoteId === remoteId ? \'native-content\' : \'opposite-content\'" class="char-block"><div class="item-descriptor"><div ng-style="avatarStyle" class="user-avatar"></div></div><div class="item-value"><p ng-bind="item.remoteId === remoteId ? item.nativeName : item.oppositeName" class="char-username"></p><p class="char-content"><span ng-bind="item.sentence" class="char-sentence">鑱婂ぉ鍐呭</span></p></div></div></li></ul></div>'),buf.join("")}},function(module,exports){},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"assets/images/cab755ea7d2cc3fd2ec34868e46bacb0.png"},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function link($scope,$element){window.onkeydown=function(event){13==event.keyCode&&$scope.charState.typeContent&&$scope.charState.charShow&&$scope.send($scope.charState.typeContent)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){return{restrict:"EA",replace:!0,scope:{},template:(0,_foot2.default)(),controller:Ctrl,link:link}};var _foot=__webpack_require__(76),_foot2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_foot);__webpack_require__(77);var Ctrl=function Ctrl($scope,$element,ngTool,charState,wsService,userStorage){"ngInject";_classCallCheck(this,Ctrl),$scope.safeApply=ngTool.injectScope($scope).safeApply,$scope.charState=charState,$scope.charState.charParagraphs=[],$scope.charState.typeContent="",$scope.charBody=document.body.getElementsByClassName("char-body")[0],$scope.send=function(content){if(content){var nowDate=new Date,h=nowDate.getHours(),m=nowDate.getMinutes(),s=nowDate.getSeconds(),formatDate=(h<10?"0"+h:h)+":"+(m<10?"0"+m:m)+":"+(s<10?"0"+s:s),newSentence={remoteId:userStorage.getStorage("remoteId"),oppositeName:userStorage.getStorage("oppositeName"),nativeName:userStorage.getStorage("nativeName"),sentence:content,timer:formatDate};$scope.safeApply(function(){wsService.emit(8,newSentence),$scope.charState.charParagraphs.push(newSentence),$scope.charState.phraseFormShow=!1,$scope.$emit("charState"),$scope.charState.typeContent="",ngTool.jroll($scope.charBody,"bottom")})}},$scope.showPhraseForm=function(){$scope.charState.phraseFormShow=!$scope.charState.phraseFormShow,$scope.$emit("charState")},$scope.hidePhraseForm=function(){$scope.charState.phraseFormShow=!1,$scope.$emit("charState")}};Ctrl.$inject=["$scope","$element","ngTool","charState","wsService","userStorage"]},function(module,exports,__webpack_require__){__webpack_require__(0);module.exports=function(locals){var buf=[];return buf.push('<div class="char-footer"><div ng-click="showPhraseForm()" class="left-side"><span>鐭</span></div><div class="middle-side"><label><input unremote type="text" ng-model="charState.typeContent" ng-focus="hidePhraseForm()" class="disable-plugin type-entering"><button unremote ng-click="charState.typeContent = \'\'" class="init-button"><i class="ico-close"></i></button></label></div><div class="right-side type-send"><span ng-click="send(charState.typeContent,$event)">鍙戦€�</span></div></div>'),buf.join("")}},function(module,exports){},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){return{restrict:"EA",replace:!0,scope:{},template:(0,_head2.default)(),controller:Ctrl}};var _head=__webpack_require__(79),_head2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_head);__webpack_require__(80);var Ctrl=function Ctrl($scope,ngTool,charState,userStorage){"ngInject";_classCallCheck(this,Ctrl),$scope.charState=charState,$scope.hideCharForm=function(){$scope.charState.charShow=!1,$scope.charState.phraseFormShow=!1,$scope.charState.newSentenceAmount=0,$scope.$emit(charState)},$scope.matchRemoteRole=function(){var role="鏈€氳";return 2==userStorage.getStorage("remoteId")&&(role="姹傚姪鑰�"),1==userStorage.getStorage("remoteId")&&(role="鍗忓姪鑰�"),userStorage.getStorage("oppositeName")+"("+role+")"}};Ctrl.$inject=["$scope","ngTool","charState","userStorage"]},function(module,exports,__webpack_require__){__webpack_require__(0);module.exports=function(locals){var buf=[];return buf.push('<div class="char-header"><button unremote ng-click="hideCharForm()" class="init-button char-back-btn"><span class="table-cell"><i style="border-color:#fff" class="arrow-left arrow-layout-middle"></i></span></button><div class="char-title"><span ng-bind="matchRemoteRole()"></span></div><button unremote ng-click="hideCharForm()" class="init-button char-close-btn"><i class="char-close-ico ico-close"></i></button></div>'),buf.join("")}},function(module,exports){},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function link($scope,$element){$scope.hoverStyle={width:"inherit",height:"inherit",background:"url("+_msg_2.default+") no-repeat center",backgroundSize:"3.2rem 3.2rem",backgroundColor:"rgb(85, 139, 212)",borderRadius:"4px",boxShadow:"3px 3px 7px #202c3a"}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){return{replace:!0,restrict:"EA",scope:{},template:(0,_hoverButton2.default)(),controller:Ctrl,link:link}};var _hoverButton=__webpack_require__(82),_hoverButton2=_interopRequireDefault(_hoverButton);__webpack_require__(83);var _msg_=__webpack_require__(84),_msg_2=_interopRequireDefault(_msg_),Ctrl=function Ctrl($scope,$element,$rootScope,ngTool,userStorage,charState){"ngInject";_classCallCheck(this,Ctrl),$scope.safeApply=ngTool.injectScope($scope).safeApply,$scope.jroll=ngTool.jroll,$scope.Drag=ngTool.Drag,$scope.remoteId=0,$scope.charShow=!1,$scope.newMsgCount=0,$scope.showCharForm=function(){$scope.charShow=charState.charShow=!0,$scope.newMsgCount=charState.newMsgCount=0,setTimeout(function(){$rootScope.$emit(charState)}),$scope.jroll(document.body.getElementsByClassName("char-body")[0],"bottom")},$rootScope.$on(charState,function(scope){$scope.safeApply(function(){$scope.charShow=charState.charShow,$scope.newMsgCount=charState.newMsgCount})}),$rootScope.$on(userStorage,function(scope){$scope.safeApply(function(){$scope.remoteId=userStorage.getStorage("remoteId"),$scope.remoteId&&setTimeout(function(){new $scope.Drag($element[0])})})})};Ctrl.$inject=["$scope","$element","$rootScope","ngTool","userStorage","charState"]},function(module,exports,__webpack_require__){__webpack_require__(0);module.exports=function(locals){var buf=[];return buf.push('<div ng-show="remoteId != 0 &amp;&amp; !charShow &amp;&amp; newMsgCount" class="hover-box"><button unremote ng-style="hoverStyle" ng-click="showCharForm()" class="init-button"><i ng-bind="newMsgCount" ng-hide="!newMsgCount" class="tip-pop"></i></button></div>'),buf.join("")}},function(module,exports){},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"assets/images/073a9d42b907da1af54e223d0f8f00bb.png"},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){return{restrict:"EA",scope:{},template:(0,_phraseForm2.default)(),controller:Ctrl}};var _phraseForm=__webpack_require__(86),_phraseForm2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_phraseForm);__webpack_require__(87);var Ctrl=function Ctrl($scope,$element,$rootScope,charState){"ngInject";_classCallCheck(this,Ctrl),$scope.charState=charState,$scope.charState.phraseFormShow=!1,$scope.phraseAry=[{title:"鎰熻阿...",content:"闈炲父鎰熻阿鎮ㄧ殑甯姪锛�"},{title:"鍌績...",content:"蹇偣鍚э紝鎴戠瓑鐨勮姳鍎块兘璋簡锛�"},{title:"绋嶇瓑...",content:"绋嶇瓑涓€涓嬶紝鐜板湪蹇欎笉杩囨潵銆�"},{title:"鏆傜...",content:"鎴戠幇鍦ㄦ湁浜嬶紝鍏堢寮€涓€涓嬨€�"},{title:"缁撴潫...",content:"鎿嶄綔宸插畬鎴愶紝鍙互缁撴潫涓氬姟浜嗐€�"}],$scope.chosePhrase=function(content,event,index){$scope.charState.phraseFormShow=!1,$scope.charState.typeContent=content,$scope.$emit("charState")}};Ctrl.$inject=["$scope","$element","$rootScope","charState"]},function(module,exports,__webpack_require__){__webpack_require__(0);module.exports=function(locals){var buf=[];return buf.push('\x3c!--Created by Andy on 2017/11/13.\n--\x3e<div ng-show="charState.phraseFormShow" class="phraseForm"><ul class="phraseList"><li ng-repeat="item in phraseAry" class="phraseItem"><button unremote ng-click="chosePhrase(item.content,$event,$index)" class="init-button phraseButton"><span ng-bind="item.title"></span></button></li></ul></div>'),buf.join("")}},function(module,exports){},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _userList=__webpack_require__(89),_userList2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_userList);exports.default=angular.module("user.list",[]).directive("userList",_userList2.default)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function link($scope,$element){setTimeout(function(){new $scope.Drag($element[0].querySelector(".user-list-header"),$element[0].querySelector(".user-list-frame"),$element[0].querySelector(".extend-trigger"))},100),$scope.user_list_style={background:"url("+_user_list2.default+") no-repeat center",backgroundSize:"32px 32px"},$scope.avatar_style={background:"url("+_avatar_default2.default+") no-repeat center",backgroundSize:"32px 32px",width:"32px",height:"32px",position:"absolute",top:"3px",left:"3px",cursor:"pointer"},$scope.send_msg={background:"url("+_send_2.default+") no-repeat center",backgroundSize:"3rem 3rem",backgroundColor:"#00a96c"},$scope.hideUserList=function(){$scope.showUserList=!1},$scope.showCharForm=function(oppositeName){$scope.charState.charShow=!0,$scope.charState.charWith=oppositeName,$scope.$root.$emit($scope.charState)},$scope.mainButtonClick=function(){$scope.newUserCount=0,$scope.showUserList=!$scope.showUserList,setTimeout(function(){$scope.jroll($element[0].querySelectorAll(".user-list-wrapper")[0])},100)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){return{replace:!0,restrict:"EA",controller:Ctrl,link:link,template:(0,_userList2.default)()}},__webpack_require__(90);var _userList=__webpack_require__(91),_userList2=_interopRequireDefault(_userList),_user_list=__webpack_require__(92),_user_list2=_interopRequireDefault(_user_list),_avatar_default=__webpack_require__(93),_avatar_default2=_interopRequireDefault(_avatar_default),_send_=__webpack_require__(94),_send_2=_interopRequireDefault(_send_),Ctrl=function Ctrl($scope,$rootScope,ngTool,wsService,userStorage,charState){"ngInject";_classCallCheck(this,Ctrl),$scope.safeApply=ngTool.injectScope($scope).safeApply,$scope.Drag=ngTool.Drag,$scope.alert=ngTool.alert,$scope.jroll=ngTool.jroll,$scope.wsService=wsService,$scope.userStorage=userStorage,$scope.charState=charState,$scope.showUserList=!1,$scope.newUserCount=0,$scope.items=[],$rootScope.$on(userStorage,function(){var startTime=(new Date).getTime(),userList=userStorage.getStorage("userList");if(userList||userList.length){var askerName=(userStorage.getStorage("remoteChanelMap"),userStorage.getStorage("askerName")),helperName=userStorage.getStorage("helperName");$scope.safeApply(function(){$scope.nativeName=userStorage.getStorage("nativeName"),$scope.newUserCount=$scope.showUserList?0:userStorage.getStorage("newUserCount"),$scope.items.length=0,$scope.isRMT=userStorage.getStorage("remoteId"),userStorage.getStorage("userList").forEach(function(user,index){$scope.items.push({isDisabled:0!=$scope.isRMT,isAbleMsgFn:0!=$scope.isRMT&&(user.name===askerName||user.name===helperName),userName:user.name,RMTState:"鍗忓姪鑰� || 蹇欑涓�",isBusing:user.connectWith,event:function(oppositeName){$scope.alert.prompt("鏄惁璇锋眰銆�"+oppositeName+"銆戠殑甯姪锛�").addConfirmBehavior(function(){userStorage.setStorage("askerName",userStorage.getStorage("nativeName")).setStorage("helperName",oppositeName).setStorage("oppositeName",oppositeName),$scope.alert.loading("绛夊緟瀵规柟搴旂瓟..."),$scope.wsService.emit(2)}).addCancelBehavior(function(){userStorage.setStorage("askerName",null).setStorage("helperName",null).setStorage("oppositeName",null)})}})})}),console.log("鍒锋柊鍒楄〃鎵€闇€鏃堕棿锛�",(new Date).getTime()-startTime,"ms")}})};Ctrl.$inject=["$scope","$rootScope","ngTool","wsService","userStorage","charState"]},function(module,exports){},function(module,exports,__webpack_require__){__webpack_require__(0);module.exports=function(locals){var buf=[];return buf.push('\x3c!--Created by Andy on 2017/12/13.\n--\x3e<div class="head-bar-left-button-frame"><button unremote ng-class="{true:\'head-bar-left-button-active\',false:\'head-bar-left-button-normal\'}[showUserList]" ng-style="user_list_style" ng-click="mainButtonClick();" class="head-bar-left-button"><i ng-if="(newUserCount &gt; 0)" ng-bind="newUserCount" class="tip-pop"></i></button><div ng-show="showUserList" class="user-list-frame"><div class="user-list-header ellipsis"><img ng-style="avatar_style" alt="{{nativeName}}" title="娑堟伅绠＄悊鍛�" ng-click="alert.tips($event.target,nativeName)"><h2>鐢ㄦ埛鍒楄〃(鍦ㄧ嚎)</h2><button unremote ng-click="hideUserList();" class="init-button user-list-close-button"><i class="user-close ico-close"></i></button></div><div remote-scroll class="user-list-wrapper user-list-content"><ul><li ng-repeat="item in items" class="item-list"><button unremote ng-click="item.event(item.userName);" ng-disabled="item.isDisabled || item.isBusing" ng-class="{true:\'user-list-special-mgr\'}[item.userName === \'绠＄悊鍛�(浣滆€�)\']" class="init-button item-button"><span ng-bind="item.userName"></span><span ng-show="item.isBusing" class="disable-text">&nbsp;(蹇欑涓�...)</span></button><button unremote ng-if="item.isAbleMsgFn" ng-style="send_msg" title="send" ng-click="showCharForm(item.userName)" class="init-button extend-button"></button></li></ul></div><button class="extend-trigger init-button"><i class="ico-extend"></i></button></div></div>'),buf.join("")}},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"assets/images/fdf70e6192414cd83bc2c213fef3c632.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"assets/images/66bed0e60adfb0ba0a4f44ec52b6829f.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"assets/images/759aef537eb2a64be51522054cbd1304.png"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _userRegister=__webpack_require__(96),_userRegister2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_userRegister);exports.default=angular.module("user.register",[]).directive("userRegister",_userRegister2.default)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function link($scope,$element,$attr,ctrl){"ngInject";(0,_jquery2.default)("section").ready(function(){(0,_jquery2.default)("section").css("filter","blur(4px)")}),document.body.onkeydown=function(e){13===e.keyCode&&(0,_jquery2.default)($element).is(":visible")&&$scope.submit.call($scope,null)}}Object.defineProperty(exports,"__esModule",{value:!0}),link.$inject=["$scope","$element","$attr","ctrl"],exports.default=function(){return{restrict:"EA",transclude:!0,replace:!0,template:(0,_userRegister2.default)(),controller:Ctrl,link:link,scope:{}}};var _jquery=__webpack_require__(1),_jquery2=_interopRequireDefault(_jquery);__webpack_require__(97);var _userRegister=__webpack_require__(98),_userRegister2=_interopRequireDefault(_userRegister),Ctrl=function Ctrl($scope,$element,ngTool,wsService,userStorage){_classCallCheck(this,Ctrl),$scope.safeApply=ngTool.injectScope($scope).safeApply,$scope.tool=ngTool,$scope.wsService=wsService,$scope.userStorage=userStorage,$scope.userName="",$scope.maxLength=14,$scope.watcher=$scope.$watch("userName",function(changed,old,scope){var zhCount=0,singleChanged=changed;singleChanged&&singleChanged.split("").forEach(function(item){item.charCodeAt().toString(16).length>=4&&zhCount++}),$scope.safeApply(function(){var lastSpace=14-zhCount;lastSpace>=7&&($scope.maxLength=lastSpace)})}),$scope.submit=function(){$scope.userName.toString().trim()?/[`~!锛�?锛烜#$%^&'"鈥溾€漒{}\\\/\*]/.test($scope.userName)?$scope.tool.alert.warns("璇蜂笉瑕佷娇鐢ㄧ壒娈婂瓧绗�"):($scope.userStorage.setStorage("nativeName",$scope.userName),$scope.wsService.emit(1,function(response){response.serverData.regPass?($element.remove(),(0,_jquery2.default)("section").css("filter","blur(0)"),$scope.watcher()):$scope.tool.alert.warns("閭ｄ箞甯呮皵鐨勫悕瀛楀凡缁忚鎶簡")})):($scope.tool.alert.warns("涓嶆敮鎸侀粦鎴�"),$element.find("input")[0].placeholder="璇峰厛鍙栦竴涓悕瀛楋紒")}}},function(module,exports){},function(module,exports,__webpack_require__){__webpack_require__(0);module.exports=function(locals){var buf=[];return buf.push('<div class="user-register-frame"><div class="user-register-content"><label><input type="text" size="22" maxlength="{{maxLength}}" placeholder="鍙栦釜鐗涢€肩偣鐨勫悕瀛�" ng-model="userName" class="user-register-input"></label><label><input ng-class="{true:\'user-register-sure-button\',false:\'user-register-disabled-button\'}[userName.length&gt;0]" type="button" value="纭畾" ng-click="submit()" class="item-button animation user-register-common-button"></label></div></div>'),buf.join("")}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _angular=__webpack_require__(7),_angular2=_interopRequireDefault(_angular),_exports=__webpack_require__(100),_exports2=_interopRequireDefault(_exports),_exports3=__webpack_require__(114),_exports4=_interopRequireDefault(_exports3),_exports5=__webpack_require__(122),_exports6=_interopRequireDefault(_exports5);exports.default=_angular2.default.module("pages",[_exports2.default.name,_exports4.default.name,_exports6.default.name])},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _tab=__webpack_require__(101),_tab2=_interopRequireDefault(_tab),_content=__webpack_require__(104),_content2=_interopRequireDefault(_content),_home=__webpack_require__(110),_home2=_interopRequireDefault(_home);exports.default=angular.module("pages.home",[]).config(_home2.default).directive("tab",_tab2.default).directive("content",_content2.default)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function link($scope){}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){return{restrict:"E",scope:{},template:(0,_tab2.default)(),controller:ctrl,link:link}};var _tab=__webpack_require__(102),_tab2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_tab);__webpack_require__(103);var ctrl=function ctrl($scope){"ngInject";_classCallCheck(this,ctrl),$scope.tabItem=[{title:"鍔ㄧ敾娴嬭瘯"},{title:"鏁版嵁娴嬭瘯"}]};ctrl.$inject=["$scope"]},function(module,exports,__webpack_require__){__webpack_require__(0);module.exports=function(locals){var buf=[];return buf.push('<div id="sliderTab" class="slider-tab"><div class="slider-tab-chunk"><button ng-class="{\'nav-active\': $index == 0, \'full\': tabItem.length === 1}" ng-repeat="item in tabItem" ng-bind="item.title" class="init-button button-separate animation">锟斤拷始锟斤拷</button></div><div id="slidingShoe" ng-class="{\'full\': tabItem.length === 1}" class="sliding-shoe"></div></div>'),buf.join("")}},function(module,exports){},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function link($scope,$element,$attrs,req){}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){return{restrict:"E",scope:{},template:(0,_content2.default)(),controller:ctrl,link:link}};var _content=__webpack_require__(105),_content2=_interopRequireDefault(_content);__webpack_require__(106);var _scroll=__webpack_require__(107),_scroll2=_interopRequireDefault(_scroll),_data=__webpack_require__(108),_data2=_interopRequireDefault(_data),_data_multi=__webpack_require__(109),_data_multi2=_interopRequireDefault(_data_multi),ctrl=function ctrl($scope,ngTool){"ngInject";_classCallCheck(this,ctrl),$scope.contentItem=[{title:"鍔ㄧ敾娴嬭瘯",items:[{name:"婊氬姩",picture:_scroll2.default,uiSref:"animation"}]},{title:"鏁版嵁娴嬭瘯",items:[{name:"鍗曞抚",picture:_data2.default,uiSref:"scanner"},{name:"骞跺彂",picture:_data_multi2.default,uiSref:"home"}]}],$scope.eventHandle=function(itemInfo){"骞跺彂"===itemInfo.name&&ngTool.alert.prompt("was building hard~")}};ctrl.$inject=["$scope","ngTool"]},function(module,exports,__webpack_require__){__webpack_require__(0);module.exports=function(locals){var buf=[];return buf.push('<div id="contextBox" class="context_box"><div id="sliderBody" ng-class="{\'full\': contentItem.length === 1}" remote-scroll class="context_main_with_title car-module-main"><div ng-repeat="item in contentItem" ng-class="{full: contentItem.length === 1}" class="module-list car-module-list"><ul class="module-list-ul"><li ng-repeat="itemInfo in item.items track by $index" class="module-list-ul-li"><button ng-click="eventHandle(itemInfo)" ui-sref="{{itemInfo.uiSref}}" class="init-button full"><div class="fun-module-line-index"><p class="index-img-container"><img ng-src="{{itemInfo.picture}}" class="car-logo-index"></p><span ng-bind="itemInfo.name" class="car-name"></span></div></button></li></ul></div></div></div>'),buf.join("")}},function(module,exports){},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"assets/images/3379755d9b669cfdf0d8b4e044fa99cc.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"assets/images/ffd092ec2fe1c3e9681e7de7bc9c4cdd.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"assets/images/85b9903e81ff2353556ad19d122493aa.png"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function($stateProvider){$stateProvider.state("home",{url:"/home",title:"home",template:(0,_home2.default)(),controller:Ctrl})};var _home=__webpack_require__(111),_home2=_interopRequireDefault(_home);__webpack_require__(112);var _SimulateSlider=__webpack_require__(113),_SimulateSlider2=_interopRequireDefault(_SimulateSlider),Ctrl=function Ctrl($scope,$element,$rootScope,userStorage,ngTool){"ngInject";_classCallCheck(this,Ctrl);var slider=new _SimulateSlider2.default({tabId:"sliderTab",slidingShoeId:"slidingShoe",contextBoxId:"contextBox",sliderBodyId:"sliderBody"});$rootScope.$on("scrollCoordinate",function(scope){var scrollCoordinate=$rootScope.scrollCoordinate;if(console.log(scrollCoordinate),1===userStorage.getStorage("remoteId")){var jrollX=(scrollCoordinate.targetId,scrollCoordinate.jrollX),jrollY=scrollCoordinate.jrollY,sliderTab=(document.body.clientWidth,document.body.clientHeight,$element[0].querySelector(".slider-tab-chunk")[0]);if(!sliderTab)return;var tabChunksCount=sliderTab[0].children.length,slideChunkIndex=Math.round(Math.abs(tabChunksCount*jrollX));slider.hSlideTo(slideChunkIndex),slider.vSlideTo(slideChunkIndex,jrollY)}}),$rootScope.footBtn({btn1Text:"閫€鍑�",btn1Callback:function(){ngTool.alert.prompt("there's no way to run back~")}})};Ctrl.$inject=["$scope","$element","$rootScope","userStorage","ngTool"]},function(module,exports,__webpack_require__){__webpack_require__(0);module.exports=function(locals){var buf=[];return buf.push('<div class="page"><tab></tab><content></content></div>'),buf.join("")}},function(module,exports){},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_jquery=__webpack_require__(1),_jquery2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_jquery),_class=function(){function _class(params){_classCallCheck(this,_class);var that=this;return(0,_jquery2.default)("body").ready(function(){that.init(params),that.run()}),this}return _createClass(_class,[{key:"init",value:function(_ref){var _ref$tabId=_ref.tabId,tabId=void 0===_ref$tabId?"":_ref$tabId,_ref$slidingShoeId=_ref.slidingShoeId,slidingShoeId=void 0===_ref$slidingShoeId?"":_ref$slidingShoeId,_ref$contextBoxId=_ref.contextBoxId,contextBoxId=void 0===_ref$contextBoxId?"":_ref$contextBoxId,_ref$sliderBodyId=_ref.sliderBodyId,sliderBodyId=void 0===_ref$sliderBodyId?"":_ref$sliderBodyId,_ref$sliderChunkTagNa=_ref.sliderChunkTagName,sliderChunkTagName=void 0===_ref$sliderChunkTagNa?"ul":_ref$sliderChunkTagNa,_ref$sliderType=_ref.sliderType,sliderType=void 0===_ref$sliderType?"both":_ref$sliderType,_ref$pageWidth=_ref.pageWidth,pageWidth=void 0===_ref$pageWidth?window.document.body.clientWidth:_ref$pageWidth,_ref$pageHeight=_ref.pageHeight,pageHeight=void 0===_ref$pageHeight?window.document.body.clientHeight:_ref$pageHeight,_ref$touchStart=_ref.touchStart,touchStart=void 0===_ref$touchStart?"ontouchstart"in window?"touchstart":"mousedown":_ref$touchStart,_ref$touchMove=_ref.touchMove,touchMove=void 0===_ref$touchMove?"ontouchmove"in window?"touchmove":"mousemove":_ref$touchMove,_ref$touchEnd=_ref.touchEnd,touchEnd=void 0===_ref$touchEnd?"ontouchend"in window?"touchend":"mouseup":_ref$touchEnd;_ref.RMTHandler;this.touchEvent={},this.touchEvent.start={},this.touchEvent.start.orgX=0,this.touchEvent.start.orgY=0,this.touchEvent.start.flag=!1,this.touchEvent.move={},this.touchEvent.move.orgX=0,this.touchEvent.move.orgY=0,this.touchEvent.end={},this.touchEvent.end.orgX=0,this.touchEvent.end.orgY=0,this.touchEvent.type={},this.touchEvent.type.start=touchStart,this.touchEvent.type.move=touchMove,this.touchEvent.type.end=touchEnd,this.count={},this.count.endTime=0,this.count.startTime=0,this.count.diff_Time=0,this.count.diff_X=0,this.count.diff_Y=0,this.count.slideLeft=0,this.count.slideTop=0,this.count.curShoeLeft=0,this.count.curPageIndex=0,this.flag={},this.flag.freezeCoord={},this.flag.freezeCoord.X=!1,this.flag.freezeCoord.Y=!1,this.flag.isVerticalScroll=!0,this.flag.hasHorizontalScroll=!0,this.flag.hasVerticalScroll=!0,this.flag.sliderType=sliderType,this.flag.sliderChunkTagName=sliderChunkTagName,this.monitor={},this.monitor.horizontalScrollingTimer=null,this.monitor.verticalScrollingWatcher=null,this.monitor.interDeceleration=null,this.elements={},this.elements.contextBox=(0,_jquery2.default)("#"+contextBoxId),this.elements.nav=tabId?(0,_jquery2.default)("#"+tabId):null,this.elements.slidingShoe=slidingShoeId?(0,_jquery2.default)("#"+slidingShoeId):null,this.elements.sliderBodyController=sliderBodyId?(0,_jquery2.default)("#"+sliderBodyId):this.elements.contextBox,this.elements.sliderBodyController.find(sliderChunkTagName).each(function(index,item){(0,_jquery2.default)(item).css({position:"relative",overflow:"hidden"})}),this.elements.sliderBodyController.curContentBox=(0,_jquery2.default)(this.elements.sliderBodyController.find(sliderChunkTagName)[0]),this.size={},this.size.pageHeight=pageHeight,this.size.pageWidth=pageWidth,this.size.topHeight=this.elements.nav?this.elements.nav.height():0,this.size.frameHeight=this.elements.contextBox.height(),this.size.limitTop=this.size.frameHeight-this.elements.sliderBodyController.curContentBox.height(),this.size.initTop=parseFloat(this.elements.sliderBodyController.curContentBox.css("top"))||0,this.sliderType=sliderType,this.sliderChunkTagName=sliderChunkTagName,this.resize()}},{key:"hSlideTo",value:function(index){/both|row/.test(this.sliderType)&&(this.elements.sliderBodyController.animate({left:-index*this.size.pageWidth},300),this.elements.slidingShoe.animate({left:index*this.size.pageWidth/2},300),this.elements.nav.buttons=this.elements.nav.find("button"),this.elements.nav.buttons.removeClass("nav-active"),(0,_jquery2.default)(this.elements.nav.buttons[index]).addClass("nav-active"))}},{key:"vSlideTo",value:function(index,offsetPercent){/both|row/.test(this.sliderType)&&(0,_jquery2.default)(this.elements.sliderBodyController.find(this.sliderChunkTagName)[index]).animate({top:offsetPercent*this.size.limitTop},300)}},{key:"resize",value:function(){this.elements.nav&&this.elements.nav.off(),this.elements.contextBox.off(),this.hSlideTo(0)}},{key:"run",value:function(){var that=this;this.elements.nav&&this.elements.nav.on("click",function(e){console.log("the click event is work");var curTargetIndex=(0,_jquery2.default)(e.target.parentElement.children).index(e.target);that.hSlideTo(curTargetIndex)}),this.elements.contextBox.on(this.touchEvent.type.start,function(e){that.touchEvent.start.flag=!0,that.count.startTime=e.timeStamp,clearInterval(that.monitor.verticalScrollingWatcher),clearInterval(that.monitor.interDeceleration),clearTimeout(that.monitor.horizontalScrollingTimer),that.elements.slidingShoe&&that.elements.slidingShoe.stop(),that.elements.sliderBodyController.curContentBox.stop(),that.elements.sliderBodyController.stop();var target=e.originalEvent.changedTouches?e.originalEvent.changedTouches[0]:e.originalEvent;that.touchEvent.start.orgX=target.pageX,that.touchEvent.start.orgY=target.pageY,that.count.slideLeft=parseFloat(that.elements.sliderBodyController.css("left")),that.count.curPageIndex=Math.ceil(Math.abs(that.count.slideLeft)/that.size.pageWidth),that.elements.sliderBodyController.curContentBox=(0,_jquery2.default)(that.elements.sliderBodyController.find(that.flag.sliderChunkTagName)[that.count.curPageIndex]),that.count.slideTop=parseFloat(that.elements.sliderBodyController.curContentBox.css("top"))||that.size.initTop,that.elements.slidingShoe&&(that.count.curShoeLeft=parseFloat(that.elements.slidingShoe.css("left"))),that.size.limitTop=-(that.elements.sliderBodyController.curContentBox.height()-that.size.frameHeight),that.flag.hasVerticalScroll=that.elements.sliderBodyController.curContentBox.height()>that.size.frameHeight,that.flag.hasHorizontalScroll=that.elements.sliderBodyController.width()>that.size.pageWidth}),this.elements.contextBox.on(this.touchEvent.type.move,function(e){if(that.touchEvent.start.flag){var target=e.originalEvent.changedTouches?e.originalEvent.changedTouches[0]:e.originalEvent;!that.flag.freezeCoord.X&&/both|row/.test(that.flag.sliderType)&&(that.touchEvent.move.orgX=target.pageX,that.count.diff_X=that.touchEvent.move.orgX-that.touchEvent.start.orgX),!that.flag.freezeCoord.Y&&/both|column/.test(that.flag.sliderType)&&(that.touchEvent.move.orgY=target.pageY,that.count.diff_Y=that.touchEvent.move.orgY-that.touchEvent.start.orgY),Math.abs(that.count.diff_X)>=that.size.pageWidth/5&&(that.flag.freezeCoord.X=!1,that.flag.freezeCoord.Y=!0,that.flag.isVerticalScroll=!1);var diff_x_y=Math.abs(that.count.diff_X)-Math.abs(that.count.diff_Y);diff_x_y<0&&that.flag.isVerticalScroll&&/both|column/.test(that.flag.sliderType)?that.count.slideTop>=that.size.initTop&&that.count.diff_Y>0?that.elements.sliderBodyController.curContentBox.css("top",that.count.slideTop+.3*that.count.diff_Y):that.count.slideTop<=that.size.limitTop&&that.count.diff_Y<0?that.elements.sliderBodyController.curContentBox.css("top",that.count.slideTop+.3*that.count.diff_Y):that.elements.sliderBodyController.curContentBox.css("top",that.count.slideTop+that.count.diff_Y):diff_x_y>0&&!that.flag.isVerticalScroll&&/both|row/.test(that.flag.sliderType)&&(diff_x_y>0?(that.elements.sliderBodyController.css("left",that.count.slideLeft+.3*that.count.diff_X),that.elements.slidingShoe.css("left",that.count.curShoeLeft-.3*that.count.diff_X/2)):that.count.diff_X<0&&(that.elements.sliderBodyController.css("left",that.count.slideLeft+.3*that.count.diff_X),that.elements.slidingShoe.css("left",that.count.curShoeLeft-.3*that.count.diff_X/2)))}}),this.elements.contextBox.on(this.touchEvent.type.end,function(e){that.touchEvent.start.flag=!1,that.count.slideTop=parseFloat(that.elements.sliderBodyController.curContentBox.css("top")),that.count.slideLeft=parseFloat(that.elements.sliderBodyController.css("left"));var target=e.originalEvent.changedTouches?e.originalEvent.changedTouches[0]:e.originalEvent;that.touchEvent.end.orgX=target.pageX,that.touchEvent.end.orgY=target.pageY,that.count.diff_X=that.touchEvent.end.orgX-that.touchEvent.start.orgX,that.count.diff_Y=that.touchEvent.end.orgY-that.touchEvent.start.orgY,that.count.endTime=e.timeStamp,that.count.diff_Time=that.count.endTime-that.count.startTime,that.monitor.horizontalScrollingTimer=setTimeout(function(){that.flag.freezeCoord.X=!1,that.flag.freezeCoord.Y=!1,that.flag.isVerticalScroll=!0},300),that.handleEndEvent()})}},{key:"handleEndEvent",value:function(){var that=this;if(that.flag.isVerticalScroll)if(that.count.slideTop>that.size.initTop&&that.count.diff_Y>=0)that.elements.sliderBodyController.curContentBox.animate({top:that.size.initTop},300,function(){});else if(that.count.slideTop<that.size.limitTop&&that.count.diff_Y<=0)that.flag.hasVerticalScroll?that.elements.sliderBodyController.curContentBox.animate({top:that.size.limitTop},300,function(){}):that.elements.sliderBodyController.curContentBox.animate({top:that.size.initTop},300,function(){});else{var t=that.count.endTime-that.count.startTime,v=that.count.diff_Y/t,intergrator=0;that.count.diff_Y>0?that.monitor.interDeceleration=setInterval(function(){v*=.9,intergrator+=30*v,that.elements.sliderBodyController.curContentBox.css("top",that.count.slideTop+intergrator),(v<=.1||that.count.slideTop+intergrator>0)&&(clearInterval(that.monitor.interDeceleration),that.count.slideTop+intergrator>0&&(console.log("count.slideTop",that.count.slideTop,"intergrator",intergrator),that.elements.sliderBodyController.curContentBox.animate({top:that.size.initTop},300,function(){})))},15):that.monitor.interDeceleration=setInterval(function(){v*=.9,intergrator+=30*v,that.elements.sliderBodyController.curContentBox.css("top",that.count.slideTop+intergrator),(v>=-.1||that.count.slideTop+intergrator<that.size.limitTop)&&(clearInterval(that.monitor.interDeceleration),that.count.slideTop+intergrator<that.size.limitTop&&(console.log("count.slideTop",that.count.slideTop,"intergrator",intergrator,"size.limitTop",that.size.limitTop),that.flag.hasHorizontalScroll?that.elements.sliderBodyController.curContentBox.animate({top:that.size.limitTop},300,function(){}):that.elements.sliderBodyController.curContentBox.animate({top:that.size.initTop},300,function(){})))},15)}else that.count.slideTop>that.size.initTop?that.elements.sliderBodyController.curContentBox.animate({top:that.size.initTop},300,function(){}):that.count.slideTop<that.size.limitTop&&(that.flag.hasVerticalScroll?that.elements.sliderBodyController.curContentBox.animate({top:that.size.limitTop},300,function(){}):that.elements.sliderBodyController.curContentBox.animate({top:that.size.initTop},300,function(){})),that.count.diff_X<0?Math.abs(that.count.slideLeft)<=that.size.pageWidth/10*(1+(that.count.diff_Time-250)/250)?this.hSlideTo(0):that.flag.hasHorizontalScroll?this.hSlideTo(1):this.hSlideTo(0):that.count.diff_X>0?Math.abs(that.count.slideLeft)<=that.size.pageWidth-that.size.pageWidth/10*(1+(that.count.diff_Time-250)/250)?this.hSlideTo(0):this.hSlideTo(1):(console.log("杩涙潵浜�",that.count.slideLeft,that.size.pageWidth/2),Math.abs(that.count.slideLeft)<=that.size.pageWidth/2?this.hSlideTo(1):this.hSlideTo(0))}}]),_class}();exports.default=_class},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _exports=__webpack_require__(115),_exports2=_interopRequireDefault(_exports),_animation=__webpack_require__(119),_animation2=_interopRequireDefault(_animation);exports.default=angular.module("page.animation",[_exports2.default.name]).config(_animation2.default)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _digitScroll=__webpack_require__(116),_digitScroll2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_digitScroll);exports.default=angular.module("digitScroll",[]).directive("digitScroll",_digitScroll2.default)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function link($scope,$element,$attrs,that){"ngInject";var values=[0,1,2,3,4,5,6,7,8,9];$scope.wrappers=that.spellWrappers(values),$scope.liStyle={height:that.getLineHeight()},$scope.initListIndex=that.getInitListIndex(),$scope.markFlagPosition={top:that.getMarkFlagPosition()},$scope.wrapperHeight={height:that.getWrapperHeight()},setTimeout(function(){that.definedEvents(),that.bindEvents()})}Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();link.$inject=["$scope","$element","$attrs","that"],exports.default=function(){return{restrict:"E",scope:{fillSpace:"=fillSpace",maxRow:"=maxRow",maxColumn:"=maxColumn",appendTo:"@appendTo",pluginId:"@pluginId"},link:link,controller:JrollPlugin,template:(0,_digitScroll2.default)()}},__webpack_require__(117);var _digitScroll=__webpack_require__(118),_digitScroll2=_interopRequireDefault(_digitScroll),_jquery=__webpack_require__(1),_jquery2=_interopRequireDefault(_jquery),_jroll=__webpack_require__(3),_jroll2=_interopRequireDefault(_jroll),jrollCache={},JrollPlugin=function(){function JrollPlugin($scope,$element,$rootScope,$attrs){"ngInject";_classCallCheck(this,JrollPlugin),this.lineHeight=3*Number.parseInt((0,_jquery2.default)("html").css("fontSize")),this.maxColumn=void 0!==$scope.maxColumn?$scope.maxColumn:5,this.maxRow=void 0!==$scope.maxRow?$scope.maxRow:(0,_jquery2.default)("body").height()>720?7:5,this.spaceInPerHead=void 0!==$scope.fillSpace?$scope.fillSpace:(0,_jquery2.default)("body").height()>720?3:2,this.jrollEvents=[],this.pluginId=$scope.pluginId,this.appendTo=$scope.appendTo,this.curMiddleIndexOfColumns=[],this.curTopIndexOfColumns=[],this.initJrollCache(),this.scrollStyle={scrolling:{wrapper:"wrapper-scrolling",scroller:"scroller-scrolling"},selected:{listItem:"listItem-selected"}},this.listenRemoteEvents(this,$rootScope)}return JrollPlugin.$inject=["$scope","$element","$rootScope","$attrs"],_createClass(JrollPlugin,[{key:"listenRemoteEvents",value:function(that,$rootScope){$rootScope.$on("scrollCoordinate",function(){var scrollCoordinate=$rootScope.scrollCoordinate,targetId=scrollCoordinate.targetId,jrollY=(scrollCoordinate.jrollX,scrollCoordinate.jrollY),index=targetId.replace(/[^0-9]/gi,""),jroll=new _jroll2.default("#"+targetId),wrapper=jroll.wrapper,scroller=jroll.scroller;that.curTopIndexOfColumns[index]=Math.round(jrollY/that.lineHeight*-1),that.curMiddleIndexOfColumns[index]=that.curTopIndexOfColumns[index]+that.spaceInPerHead,that.scrollStyle&&((0,_jquery2.default)(wrapper).addClass(that.scrollStyle.scrolling.wrapper),(0,_jquery2.default)(scroller).addClass(that.scrollStyle.scrolling.scroller));var curTopEl=scroller.children[that.curTopIndexOfColumns[index]],curMiddleEl=scroller.children[that.curMiddleIndexOfColumns[index]];jroll.scrollToElement(curTopEl,300,!1,function(){that.scrollStyle&&((0,_jquery2.default)(scroller.children).removeClass(that.scrollStyle.selected.listItem),(0,_jquery2.default)(wrapper).removeClass(that.scrollStyle.scrolling.wrapper),(0,_jquery2.default)(scroller).removeClass(that.scrollStyle.scrolling.scroller),(0,_jquery2.default)(curMiddleEl).addClass(that.scrollStyle.selected.listItem)),that.autoScroll(index,that.curMiddleIndexOfColumns[index])})})}},{key:"initJrollCache",value:function(){var startId=1;for(var prop in jrollCache)jrollCache.hasOwnProperty(prop)&&(startId+=jrollCache[prop].maxColumn);jrollCache[this.pluginId]||(jrollCache[this.pluginId]={instances:[],slaverId:null,spaceInPerHead:this.spaceInPerHead,maxColumn:this.maxColumn,startId:startId,latestId:startId+this.maxColumn})}},{key:"definedEvents",value:function(){for(var thisPrototype=this,scrollStyle=thisPrototype.scrollStyle,i=0;i<thisPrototype.maxColumn;i++)!function(i){thisPrototype.jrollEvents[i]={snap:"li",momentum:!0,usetransition:!0,beforeScrollStart:function(e){},scrollStart:function(index,scrollEvent){var wrapper=scrollEvent.wrapper,scroller=scrollEvent.scroller;scrollStyle&&((0,_jquery2.default)(wrapper).addClass(scrollStyle.scrolling.wrapper),(0,_jquery2.default)(scroller).addClass(scrollStyle.scrolling.scroller))},scrollEnd:function(index,scrollEvent){thisPrototype.curTopIndexOfColumns[index]=Math.round(scrollEvent.y/thisPrototype.lineHeight*-1),thisPrototype.curMiddleIndexOfColumns[index]=thisPrototype.curTopIndexOfColumns[index]+thisPrototype.spaceInPerHead;var wrapper=scrollEvent.wrapper,scroller=scrollEvent.scroller,curTopEl=scroller.children[thisPrototype.curTopIndexOfColumns[index]],curMiddleEl=scroller.children[thisPrototype.curMiddleIndexOfColumns[index]];scrollEvent.scrollToElement(curTopEl,300,!1,function(){scrollStyle&&((0,_jquery2.default)(scroller.children).removeClass(scrollStyle.selected.listItem),(0,_jquery2.default)(wrapper).removeClass(scrollStyle.scrolling.wrapper),(0,_jquery2.default)(scroller).removeClass(scrollStyle.scrolling.scroller),(0,_jquery2.default)(curMiddleEl).addClass(scrollStyle.selected.listItem)),thisPrototype.autoScroll(i,thisPrototype.curMiddleIndexOfColumns[index])})}}}(i)}},{key:"bindEvents",value:function(){var thisPrototype=this,thisInstances=[],_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=thisPrototype.jrollEvents.entries()[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var _step$value=_slicedToArray(_step.value,2),index=_step$value[0],item=_step$value[1],wrapperId=jrollCache[thisPrototype.pluginId].startId+index;thisInstances[index]=new _jroll2.default("#wrapper"+wrapperId,item),thisInstances[index].on("scrollStart",function(_index,_item){return function(){var scrollEvent=this;_item.scrollStart(_index,scrollEvent)}}(index,item)).on("scrollEnd",function(_index,_item){return function(){var scrollEvent=this;_item.scrollEnd(_index,scrollEvent)}}(index,item))}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}this.cacheInstance(thisInstances)}},{key:"cacheInstance",value:function(instances){if(jrollCache[this.pluginId].instances=instances,this.appendTo){var thatMasterPluginId=this.appendTo;jrollCache[thatMasterPluginId].slaverId=this.pluginId,jrollCache[this.pluginId].masterId=this.appendTo,jrollCache[this.appendTo].slaverInstances=instances}else{var slaverId=jrollCache[this.pluginId].slaverId;jrollCache[slaverId].masterInstances=instances}}},{key:"autoScroll",value:function(instanceIndex,curMiddleIndex){var slaverId=jrollCache[this.pluginId].slaverId;slaverId||(slaverId=this.pluginId);var slaverInstance=jrollCache[slaverId].instances[instanceIndex];if(!slaverInstance){var wrapperId="wrapper"+instanceIndex;jrollCache[slaverId].masterInstances.forEach(function(item,index){if(wrapperId===item.wrapper.id){var slaverInstances=jrollCache[slaverId].instances;slaverInstance=slaverInstances[index]}})}var slaverSpaceInPerHead=jrollCache[slaverId].spaceInPerHead,slaverScroll=slaverInstance.scroller,curMiddleIndexAfterQuerySpace=curMiddleIndex-this.spaceInPerHead,slaverMiddleIndex=curMiddleIndexAfterQuerySpace+slaverSpaceInPerHead,slaverMiddleEl=slaverScroll.children[slaverMiddleIndex],slaverMiddleHigh=slaverMiddleIndex*this.lineHeight*-1;if(slaverId){var scrollStyle=this.scrollStyle;slaverInstance.scrollTo(0,slaverMiddleHigh,300,!1,function(){scrollStyle&&((0,_jquery2.default)(slaverScroll.children).removeClass(scrollStyle.selected.listItem),(0,_jquery2.default)(slaverMiddleEl).addClass(scrollStyle.selected.listItem))})}}},{key:"spellWrappers",value:function(_wrapperItems){for(var wrappers=[],wrapperItems=this.fillSpace(_wrapperItems),i=jrollCache[this.pluginId].startId;i<jrollCache[this.pluginId].latestId;i++)wrappers.push({id:"wrapper"+i,values:wrapperItems});return wrappers}},{key:"getLineHeight",value:function(){return this.lineHeight+"px"}},{key:"getMarkFlagPosition",value:function(){return this.lineHeight*((this.maxRow-this.maxRow%2)/2+1)-2+"px"}},{key:"getInitListIndex",value:function(){return 0+this.spaceInPerHead}},{key:"getWrapperHeight",value:function(){return this.lineHeight*this.maxRow+"px"}},{key:"fillSpace",value:function(wrapperItems){var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=new Array(this.spaceInPerHead)[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){_step2.value;wrapperItems.unshift(""),wrapperItems.push("")}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{!_iteratorNormalCompletion2&&_iterator2.return&&_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}return wrapperItems}}]),JrollPlugin}()},function(module,exports){},function(module,exports,__webpack_require__){__webpack_require__(0);module.exports=function(locals){var buf=[];return buf.push('\x3c!--Created by Andy on 2017/11/29.\n--\x3e<div><div ng-style="wrapperHeight" class="scroll-box"><div ng-style="markFlagPosition" class="middle-mark"></div><div ng-repeat="wrapper in wrappers" id="{{wrapper.id}}" remote-scroll><ul><li ng-style="liStyle" ng-repeat="item in wrapper.values track by $index" ng-bind="item" ng-class="[{\'listItem-selected\':$index == initListIndex}]"></li></ul></div></div></div>'),buf.join("")}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function($stateProvider){$stateProvider.state("animation",{url:"/animation",title:"animation",template:(0,_animation2.default)(),controller:Ctrl})};var _animation=__webpack_require__(120),_animation2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_animation);__webpack_require__(121);var Ctrl=function Ctrl($rootScope,$state){"ngInject";_classCallCheck(this,Ctrl),$rootScope.footBtn({btn1Text:"杩斿洖",btn1Callback:function(){$state.go("home")}})};Ctrl.$inject=["$rootScope","$state"]},function(module,exports,__webpack_require__){__webpack_require__(0);module.exports=function(locals){var buf=[];return buf.push('<div class="page animation-layout"><digit-scroll max-row="1" fill-space="0" append-to="digitScroll" plugin-id="relativeShow" class="relative-frame"></digit-scroll><digit-scroll plugin-id="digitScroll" class="main-frame"></digit-scroll></div>'),buf.join("")}},function(module,exports){},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _scanner=__webpack_require__(123),_scanner2=_interopRequireDefault(_scanner),_dtcDetail=__webpack_require__(127),_dtcDetail2=_interopRequireDefault(_dtcDetail);exports.default=angular.module("pages.dataSingle",[]).config(_scanner2.default).directive("dtcDetail",_dtcDetail2.default)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.default=function($stateProvider){$stateProvider.state("scanner",{url:"/scanner",title:"",template:(0,_scanner2.default)(),controller:Ctrl})},__webpack_require__(124);var _scanner=__webpack_require__(125),_scanner2=_interopRequireDefault(_scanner),_jroll=__webpack_require__(3),_scanner_=(_interopRequireDefault(_jroll),__webpack_require__(126)),_scanner_2=_interopRequireDefault(_scanner_),Ctrl=function(){function Ctrl($scope,$element,ngTool,ajax){"ngInject";_classCallCheck(this,Ctrl),this.scope=$scope,$scope.thisCtrl=this,$scope.alert=ngTool.alert,$scope.ajax=ajax,$scope.layout=ngTool.layout,$scope.jroll=ngTool.jroll,$scope.element=$element,$scope.safeApply=ngTool.injectScope($scope).safeApply,$scope.scanningIndex=0,$scope.scanProcessText="鎵弿鍣ㄥ凡灏辩华",$scope.scanState="init",$scope.scanButtonText="寮€濮嬫壂鎻�",$scope.itemValues=[],$scope.DTCDetailItem={},$scope.enterDTCDetail=function(item){$scope.DTCDetailItem={show:!(!item.info.length||item.dtcScanStateText===Ctrl.matchCheckingStateText("checking")),info:item.info}};var that=this;$scope.firstHit=function(){that.No1_ButtonTrigger()},$scope.initViewButtonStyle={background:"url("+_scanner_2.default+") no-repeat center",backgroundSize:"3.2rem 3.2rem",backgroundColor:"#477cb3"},this.addScrollEvent($element,$scope,"itemValues"),this.watchDTCDetailState($scope),this.bindFootButton($scope),this.setScanState("init")}return Ctrl.$inject=["$scope","$element","ngTool","ajax"],_createClass(Ctrl,[{key:"addScrollEvent",value:function($element,$scope,watchedObj){$scope.$watchCollection(watchedObj,function(changed,old,scope){setTimeout(function(){scope.jroll($element[0].querySelector(".scroll-table-body"),"bottom")},500)})}},{key:"watchDTCDetailState",value:function(scope){return scope.$watch("DTCDetailItem.show",function(changed,origin,scope){!1===changed&&changed!==origin&&scope.thisCtrl.bindFootButton(scope)}),this}},{key:"getScanState",value:function(){return Ctrl.matchScanState(this.scope.scanProcessText)}},{key:"setScanState",value:function(state){var ButtonTextList={init:"寮€濮嬫壂鎻�",scanning:"鏆傚仠",pausing:"鏆傚仠涓�",paused:"缁х画",scanned:"閲嶆柊鎵弿",clearing:"鏆傚仠",cleared:"閲嶆柊鎵弿"},ProcessTextList={init:"鎵弿鍣ㄥ凡灏辩华",scanning:"姝ｅ湪鎵弿妯″潡",pausing:"鏆傚仠涓�",paused:"鏆傚仠",scanned:"鎵弿瀹屾瘯",clearing:"姝ｅ湪娓呴櫎",cleared:"娓呴櫎瀹屾瘯"};this.scope.scanState=state,this.scope.scanButtonText=ButtonTextList[state],this.scope.scanProcessText=ProcessTextList[state],this.scope.safeApply()}},{key:"reset",value:function(){this.setScanState("scanning"),this.scope.itemValues.length=0,this.scope.scanningIndex=0,this.scope.jroll(this.scope.element[0].querySelector(".scroll-table-body"),"top")}},{key:"bindFootButton",value:function(scope){var that=scope.thisCtrl;scope.$root.footBtn({btn1Text:function(){return scope.scanButtonText},btn2Text:"娓呴櫎鏁呴殰",btn3Text:"閫€鍑�",btn1Disable:function(){return Ctrl.isScanBtnDisable(that)},btn2Disable:function(){return Ctrl.isClearBtnDisable(that)},btn3Disable:function(){return Ctrl.isQuitBtnDisable(that)},btn1Callback:function(RMTScanState){that.No1_ButtonTrigger(RMTScanState)},btn2Callback:function(){that.No2_ButtonTrigger(that)},btn3Callback:function(){that.No3_ButtonTrigger(that)}})}},{key:"No1_ButtonTrigger",value:function(RMTScanState){switch(RMTScanState||this.getScanState()){case"init":case"paused":this.setScanState("scanning"),this.serverRequest();break;case"scanning":this.setScanState("pausing");break;case"pausing":break;case"scanned":case"cleared":this.setScanState("scanning"),this.reset(),this.serverRequest()}this.scope.safeApply()}},{key:"No2_ButtonTrigger",value:function(that){that.scope.itemValues.length&&!that.scope.itemValues[0].isCleared?that.scope.alert.prompt("娓呴櫎鏁呴殰鐮佽繃绋嬩腑涓嶆彁渚涒€滄殏鍋溾€濆姛鑳斤紝杩愯鏃堕棿浼氱◢闀匡紝鏄惁缁х画锛�").addConfirmBehavior(function(){that.doClearEvent(that.scope.itemValues.length)}).addCancelBehavior():that.scope.alert.prompt("璁惧瀹屽ソ锛屾棤闇€澶勭悊")}},{key:"No3_ButtonTrigger",value:function(that){return that.reset(),history.go(-1),this}},{key:"doClearEvent",value:function(itemLength){var that=this,_scanIndex=itemLength-1;if(_scanIndex<0)return void that.setScanState("cleared");that.scope.itemValues=Ctrl.clearHandler(that.scope.itemValues,_scanIndex,that.scope),that.setScanState("clearing"),that.scope.safeApply(function(){setTimeout(function(){that.doClearEvent(_scanIndex)},1e3)})}},{key:"serverRequest",value:function(){var that=this,dataPack={index:that.scope.scanningIndex++,dataType:"DTCValues"};that.scope.ajax.request("SCANNER",dataPack).bindCallbackRunEnv(that).injectCallback(that.serverCallback).extendsCallbackParams(dataPack).addRetryBehavior(function(){that.retryBehavior(dataPack)})}},{key:"serverCallback",value:function(response,extendParams){var that=this;that.scope.itemValues[extendParams.index]={},that.scope.itemValues[extendParams.index].index=response.index||0,that.scope.itemValues[extendParams.index].name=response.name||"鏈煡",that.scope.itemValues[extendParams.index].dtcScanStateText=Ctrl.matchCheckingStateText("checking"),that.scope.itemValues[extendParams.index].info=response.info||[],that.scope.itemValues[extendParams.index].className="default",that.scope.safeApply(),Ctrl.updateDtcScanStateText(that,extendParams.index),Ctrl.nextRequest(that,response.itemcount,extendParams.index)}},{key:"retryBehavior",value:function(dataPack){var that=this;this.scope.ajax.request("SCANNER",dataPack).bindCallbackRunEnv(this).injectCallback(this.serverCallback).extendsCallbackParams(dataPack).addRetryBehavior(function(){that.retryBehavior(dataPack)})}}],[{key:"matchCheckingStateText",value:function(state){return{hasErr:"鏁呴殰",noErr:"鏃犳晠闅�",checking:"妫€娴嬩腑..."}[state]}},{key:"matchScanState",value:function(btnText){return{"鎵弿鍣ㄥ凡灏辩华":"init","姝ｅ湪鎵弿妯″潡":"scanning","鏆傚仠涓�":"pausing","鏆傚仠":"paused","鎵弿瀹屾瘯":"scanned","姝ｅ湪娓呴櫎":"clearing","娓呴櫎瀹屾瘯":"cleared"}[btnText]}},{key:"isScanBtnDisable",value:function(that){return"clearing"===that.getScanState()||"pausing"===that.getScanState()}},{key:"isClearBtnDisable",value:function(that){return"scanning"===that.getScanState()||"pausing"===that.getScanState()||"clearing"===that.getScanState()||"init"===that.getScanState()}},{key:"isQuitBtnDisable",value:function(that){return"scanning"===that.getScanState()||"pausing"===that.getScanState()||"clearing"===that.getScanState()}},{key:"clearHandler",value:function(itemValues,scanIndex,scope){var item=itemValues[scanIndex];return item.info.length&&(item.dtcScanStateText="鏁呴殰/宸叉竻闄�"),item.info.length=0,item.isCleared=!0,Ctrl.classNameChange(item,scope),itemValues}},{key:"classNameChange",value:function(item,scope){item.className="clearing",setTimeout(function(){scope.safeApply(function(){item.className="default"})},700)}},{key:"nextRequest",value:function(that,maxItemCount,index){if(index+1<maxItemCount)switch(Ctrl.matchScanState(that.scope.scanProcessText)){case"scanning":setTimeout(function(){that.serverRequest()},1500);break;case"pausing":setTimeout(function(){that.setScanState("paused")},1500)}else that.setScanState("scanned")}},{key:"updateDtcScanStateText",value:function(that,index){var item=that.scope.itemValues[index];setTimeout(function(){item.dtcScanStateText=item.info.length?"鏁呴殰":"鏃犳晠闅�",that.scope.safeApply()},5e3*Math.random())}}]),Ctrl}()},function(module,exports){},function(module,exports,__webpack_require__){__webpack_require__(0);module.exports=function(locals){var buf=[];return buf.push('\x3c!--Created by Andy on 2017/12/1.\n--\x3e<div class="page-box"><div class="scroll-table-header"><button disabled="disabled" class="item-button ellipsis"><span ng-bind="scanProcessText"> 姝ｅ湪鎵弿妯″潡</span><em>&nbsp;&nbsp;</em><span ng-bind="itemValues[itemValues.length - 1].name" ng-hide="scanState===\'scanned\' || scanState===\'cleared\'" class="light-text">  椤圭洰鍚�</span></button></div><div remote-scroll class="scroll-table-body"><ul class="the-wrapper"><li ng-repeat="(index,item) in itemValues track by $index" ng-hide="scanState === \'init\'" class="animation"><button ng-click="enterDTCDetail(item)" ng-class="item.className" class="scroll-item"><span class="scroll-item-description"><em ng-bind="($index + 1) + \'. \' + item.name"></em></span><span class="scroll-item-value"><em ng-class="{true:\'warn-text\',false:\'disable-text\'}[item.dtcScanStateText === \'鏁呴殰\']">{{item.dtcScanStateText}}</em></span><span class="scroll-item-ico"><i ng-class="{true:\'arrow-active\',false:\'arrow-disabled\'}[item.dtcScanStateText === \'鏁呴殰\']" class="arrow-right"></i></span></button></li></ul><div ng-show="scanState === \'init\'" class="init-scanner-view"><button ng-click="firstHit($event.target)" ng-style="initViewButtonStyle"></button><span class="disable-text">绛夊緟鎵弿鎸囦护</span></div></div></div><dtc-detail ng-show="DTCDetailItem.show" ng-mode="DTCDetailItem.info"></dtc-detail>'),buf.join("")}},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"assets/images/6a4175a92d5566e2a1c816421d3c74d1.png"},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function link(){}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.default=function(){return{restrict:"E",replace:!0,template:(0,_dtcDetail2.default)(),lick:link,scope:{show:"=ngShow",itemInfo:"=ngMode"},controller:Ctrl}},__webpack_require__(128);var _dtcDetail=__webpack_require__(129),_dtcDetail2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_dtcDetail),Ctrl=function(){function Ctrl($scope,$element,ngTool,ajax){"ngInject";_classCallCheck(this,Ctrl),this.scope=$scope,$scope.element=$element,$scope.thisCtrl=this,$scope.tool=ngTool,$scope.ajax=ajax,$scope.layout=ngTool.layout,$scope.safeApply=ngTool.injectScope($scope).safeApply,this.watchDetailState($scope)}return Ctrl.$inject=["$scope","$element","ngTool","ajax"],_createClass(Ctrl,[{key:"watchDetailState",value:function(scope){return scope.$watch("show",function(changed,origin,scope){!0===changed&&changed!==origin&&(scope.layout.init(scope.element),scope.thisCtrl.dtcBindBottomBtn(scope))}),this}},{key:"dtcBindBottomBtn",value:function(scope){scope.$root.footBtn({btn1Text:function(){return"杩斿洖"},btn1Callback:function(){scope.show=!1}})}}]),Ctrl}()},function(module,exports){},function(module,exports,__webpack_require__){__webpack_require__(0);module.exports=function(locals){var buf=[];return buf.push('\x3c!--Created by Andy on 2017/12/5.--\x3e<div class="directive-box"><div class="scroll-table-header"></div><div class="scroll-table-body"><table><thead><tr><th width="20%">  缂栧彿</th><th width="50%">  鎻忚堪</th><th width="30%">  鏁呴殰鐮�</th></tr></thead><tbody><tr ng-repeat="item in itemInfo"><td ng-bind="item.index" class="t-center slaver-text"></td><td ng-bind="item.description"></td><td ng-bind="item.code" class="t-center slaver-text"></td></tr></tbody></table></div></div>'),buf.join("")}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _exports=__webpack_require__(131),_exports2=_interopRequireDefault(_exports),_main=__webpack_require__(154),_main2=_interopRequireDefault(_main);exports.default=angular.module("components",[_exports2.default.name]).directive("components",_main2.default)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _exports=__webpack_require__(132),_exports2=_interopRequireDefault(_exports),_exports3=__webpack_require__(139),_exports4=_interopRequireDefault(_exports3);exports.default=angular.module("bar",[_exports2.default.name,_exports4.default.name])},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _footBar=__webpack_require__(133),_footBar2=_interopRequireDefault(_footBar),_footButton=__webpack_require__(136),_footButton2=_interopRequireDefault(_footButton);exports.default=angular.module("bar.foot",[]).directive("footBar",_footBar2.default).directive("footButton",_footButton2.default)},function(module,exports,__webpack_require__){"use strict";function link(){}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){return{restrict:"E",replace:!0,scope:{},link:link,template:(0,_footBar2.default)()}};var _footBar=__webpack_require__(134),_footBar2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_footBar);__webpack_require__(135)},function(module,exports,__webpack_require__){__webpack_require__(0);module.exports=function(locals){var buf=[];return buf.push("<footer><foot-button></foot-button></footer>"),buf.join("")}},function(module,exports){},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function link($scope,$element,$attr,reController){"ngInject";$scope.btn1Text="閫€鍑�",$scope.btn2Text="",$scope.btn3Text="",$scope.btn1show=function(){return""},$scope.btn2show=function(){return""},$scope.btn3show=function(){return""},$scope.$watch("btn1Text",function(){$scope.btn1BindText=function(){return"string"==typeof $scope.btn1Text?$scope.btn1Text:"function"==typeof $scope.btn1Text?$scope.btn1Text():void 0},$scope.btn1show=$scope.btn1BindText()?$scope.btn1BindText:function(){return""}}),$scope.$watch("btn2Text",function(){$scope.btn2BindText=function(){return"string"==typeof $scope.btn2Text?$scope.btn2Text:"function"==typeof $scope.btn2Text?$scope.btn2Text():void 0},$scope.btn2show=$scope.btn2BindText()?$scope.btn2BindText:function(){return""}}),$scope.$watch("btn3Text",function(){$scope.btn3BindText=function(){return"string"==typeof $scope.btn3Text?$scope.btn3Text:"function"==typeof $scope.btn3Text?$scope.btn3Text():void 0},$scope.btn3show=$scope.btn3BindText()?$scope.btn3BindText:function(){return""}}),$scope.btnCss=function(){return!$scope.btn1show()||$scope.btn2show()||$scope.btn3show()?$scope.btn2show()&&$scope.btn1show()&&!$scope.btn3show()?"bottom-bar-button2":$scope.btn3show()&&$scope.btn2show()&&$scope.btn1show()?"bottom-bar-button3":void 0:"bottom-bar-button1"},$scope.onBtn1Click=function(){$scope.btn1Callback instanceof Function&&$scope.btn1Callback()},$scope.onBtn2Click=function(){$scope.btn2Callback instanceof Function&&$scope.btn2Callback()},$scope.onBtn3Click=function(){$scope.btn3Callback instanceof Function&&$scope.btn3Callback()},$scope.onBtn1Disable=function(){return $scope.btn1Disable instanceof Function&&$scope.btn1Disable()},$scope.onBtn2Disable=function(){return $scope.btn2Disable instanceof Function&&$scope.btn2Disable()},$scope.onBtn3Disable=function(){return $scope.btn3Disable instanceof Function&&$scope.btn3Disable()}}Object.defineProperty(exports,"__esModule",{value:!0}),link.$inject=["$scope","$element","$attr","reController"],exports.default=function(){return{restrict:"E",replace:!0,scope:{},require:"footButton",controller:FooterControl,link:link,template:(0,_footButton2.default)()}};var _footButton=__webpack_require__(137),_footButton2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_footButton);__webpack_require__(138);var FooterControl=function FooterControl($scope,$rootScope,$element){"ngInject";_classCallCheck(this,FooterControl),this.name="test",$scope.safeApply=function(fn){var phase=this.$root.$$phase;"$apply"==phase||"$digest"==phase?fn&&"function"==typeof fn&&fn():this.$apply(fn)},$rootScope.footBtn=function(object){console.log("fin~"),object?($scope.safeApply(function(){object=object||{},$scope.btn1Text=object.btn1Text||"",$scope.btn2Text=object.btn2Text||"",$scope.btn3Text=object.btn3Text||"",$scope.btn1Disable=object.btn1Disable,$scope.btn2Disable=object.btn2Disable,$scope.btn3Disable=object.btn3Disable,$scope.btn1Callback=object.btn1Callback,$scope.btn2Callback=object.btn2Callback,$scope.btn3Callback=object.btn3Callback}),$element.css({width:"100%"})):$element.css({width:"0%"})}};FooterControl.$inject=["$scope","$rootScope","$element"]},function(module,exports,__webpack_require__){__webpack_require__(0);module.exports=function(locals){var buf=[];return buf.push('<div class="bottom-button"><div class="bottom-bar-button-box"><button ng-class="btnCss()" ng-disabled="onBtn1Disable()" ng-click="onBtn1Click()" ng-bind="btn1BindText()" ng-show="btn1show()" class="bottom-bar-button bottom-bar-button-special"></button><button ng-class="btnCss()" ng-disabled="onBtn2Disable()" ng-click="onBtn2Click()" ng-bind="btn2BindText()" ng-show="btn2show()" class="bottom-bar-button bottom-bar-button-special"></button><button ng-class="btnCss()" ng-disabled="onBtn3Disable()" ng-click="onBtn3Click()" ng-bind="btn3BindText()" ng-show="btn3show()" class="bottom-bar-button bottom-bar-button-special"></button></div></div>'),buf.join("")}},function(module,exports){},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _headBar=__webpack_require__(140),_headBar2=_interopRequireDefault(_headBar),_partLeft=__webpack_require__(143),_partLeft2=_interopRequireDefault(_partLeft),_partMiddle=__webpack_require__(146),_partMiddle2=_interopRequireDefault(_partMiddle),_partRight=__webpack_require__(149),_partRight2=_interopRequireDefault(_partRight);exports.default=angular.module("bar.head",[]).directive("headBar",_headBar2.default).directive("partLeft",_partLeft2.default).directive("partMiddle",_partMiddle2.default).directive("partRight",_partRight2.default)},function(module,exports,__webpack_require__){"use strict";function link($scope){$scope.title="杩滅▼娴嬭瘯鏈�"}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){return{restrict:"E",replace:!0,scope:{},link:link,template:(0,_headBar2.default)()}};var _headBar=__webpack_require__(141),_headBar2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_headBar);__webpack_require__(142)},function(module,exports,__webpack_require__){__webpack_require__(0);module.exports=function(locals){var buf=[];return buf.push('<header unremote><part-left class="head-bar-left"></part-left><part-middle class="head-bar-middle"></part-middle><part-right class="head-bar-right"></part-right></header>'),buf.join("")}},function(module,exports){},function(module,exports,__webpack_require__){"use strict";function link($scope){}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){return{restrict:"E",replace:!0,scope:{},link:link,template:(0,_partLeft2.default)()}};var _partLeft=__webpack_require__(144),_partLeft2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_partLeft);__webpack_require__(145)},function(module,exports,__webpack_require__){__webpack_require__(0);module.exports=function(locals){var buf=[];return buf.push('\x3c!--Created by Andy on 2017/12/24.\n--\x3e<div><div class="table full"><div class="table-cell-center"><user-list></user-list></div></div></div>'),buf.join("")}},function(module,exports){},function(module,exports,__webpack_require__){"use strict";function link($scope){$scope.title="杩滅▼娴嬭瘯鏈�"}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){return{restrict:"E",replace:!0,scope:{},link:link,template:(0,_partMiddle2.default)()}};var _partMiddle=__webpack_require__(147),_partMiddle2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_partMiddle);__webpack_require__(148)},function(module,exports,__webpack_require__){__webpack_require__(0);module.exports=function(locals){var buf=[];return buf.push('\x3c!--Created by Andy on 2017/12/24.\n--\x3e<button disabled ng-bind="title"></button>'),buf.join("")}},function(module,exports){},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function link($scope){$scope.disConnect=function(){$scope.userStorage.getStorage("remoteId")&&$scope.ngTool.alert.prompt("鏄惁鍙栨秷杩滅▼杩炴帴?").addConfirmBehavior("鏄�",function(){document.body.getElementsByTagName("section")[0].style.pointerEvents=null,document.body.getElementsByTagName("footer")[0].style.pointerEvents=null,$scope.userStorage.setStorage("remoteId",0),$scope.wsService.emit(254),$scope.$emit($scope.userStorage)}).addCancelBehavior("鍚�")}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){return{restrict:"E",replace:!0,scope:{},controller:Ctrl,template:(0,_partRight2.default)(),link:link}};var _partRight=__webpack_require__(150),_partRight2=_interopRequireDefault(_partRight);__webpack_require__(151);var _disconnect=__webpack_require__(152),_disconnect2=_interopRequireDefault(_disconnect),_connect=__webpack_require__(153),_connect2=_interopRequireDefault(_connect),Ctrl=function Ctrl($scope,$rootScope,wsService,ngTool,userStorage){_classCallCheck(this,Ctrl),$scope.safeApply=ngTool.injectScope().safeApply,$scope.style={background:"url("+_disconnect2.default+") no-repeat center",backgroundSize:"22px 22px"},$scope.ngTool=ngTool,$scope.userStorage=userStorage,$scope.wsService=wsService,$rootScope.$on(userStorage,function(){$scope.safeApply(function(){userStorage.getStorage("remoteId")?$scope.style={background:"url("+_connect2.default+") no-repeat center",backgroundSize:"22px 22px"}:$scope.style={background:"url("+_disconnect2.default+") no-repeat center",backgroundSize:"22px 22px"}})})}},function(module,exports,__webpack_require__){__webpack_require__(0);module.exports=function(locals){var buf=[];return buf.push('\x3c!--Created by Andy on 2017/12/24.\n--\x3e<div><div class="table full"><div class="table-cell-center"><button unremote ng-click="disConnect()" class="head-bar-right-button"><i ng-style="style"></i></button></div></div></div>'),buf.join("")}},function(module,exports){},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"assets/images/41eb76610ba6b7c0c30d6167cf3e43a4.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"assets/images/e0ab4dd7c5d99f6dac55c2eee4112ac6.png"},function(module,exports,__webpack_require__){"use strict";function link(){}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){return{restrict:"E",replace:!0,template:(0,_main2.default)(),link:link}};var _main=__webpack_require__(155),_main2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_main)},function(module,exports,__webpack_require__){__webpack_require__(0);module.exports=function(locals){var buf=[];return buf.push("\x3c!--Created by Andy on 2017/12/25.\n缁勪欢鐧昏澶勶細(闄や簡澶村拰鑴氾紝鍏朵粬鏁ｄ欢閮藉湪杩欓噷娉ㄥ唽)--\x3e<div><alert-plugin></alert-plugin>\x3c!--user-list // 鐢ㄦ埛鍒楄〃妯″潡鍦╤eadBar妯℃澘鍐呴儴娉ㄥ唽锛屾柟渚跨鐞�--\x3e<user-register></user-register><conversation></conversation><hover-button></hover-button></div>"),buf.join("")}}]);